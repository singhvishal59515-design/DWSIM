
<!-- saved from url=(0132)blob:https://4w0xza481j9usugonaommiq382wqzg489zfsoniur4erreje3w-h830895770.scf.usercontent.goog/de5310e2-b828-4642-9c10-c4dccdab1936 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style>
        @import url(https://fonts.googleapis.com/css?family=Google+Sans+Text);
        html {
          font-family: 'Google Sans Text', 'Google Sans';
          font-size: 14px;
          color-scheme: light dark;
          background: light-dark(white, black);
          color: light-dark(black, white);
        }
        </style>
        
        <script type="importmap">{"imports":{"@modelcontextprotocol/sdk/":"https://aistudiocdn.com/@modelcontextprotocol/sdk/dist/esm/","https://aistudiocdn.com/@modelcontextprotocol/sdk@^1.11.0/es2022/":"https://aistudiocdn.com/@modelcontextprotocol/sdk@^1.11.0/es2022/dist/esm/","https://aistudiocdn.com/@modelcontextprotocol/sdk@^1.11.0/client/index?target=es2022":"https://aistudiocdn.com/@modelcontextprotocol/sdk@^1.11.0/dist/esm/client/index?target=es2022","https://aistudiocdn.com/@modelcontextprotocol/sdk@^1.11.0/types?target=es2022":"https://aistudiocdn.com/@modelcontextprotocol/sdk@^1.11.0/dist/esm/types?target=es2022","@google/genai":"https://aistudiocdn.com/@google/genai@^1.29.1","react-dom/":"https://aistudiocdn.com/react-dom@^19.2.0/","react/":"https://aistudiocdn.com/react@^19.2.0/","react":"https://aistudiocdn.com/react@^19.2.0","pyodide":"https://aistudiocdn.com/pyodide@^0.29.0","@/index":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20vY2xpZW50JzsKaW1wb3J0IEFwcCBmcm9tICdAL0FwcCc7CmNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTsKaWYgKCFyb290RWxlbWVudCkgewogICAgdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCByb290IGVsZW1lbnQgdG8gbW91bnQgdG8iKTsKfQpjb25zdCByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChyb290RWxlbWVudCk7CnJvb3QucmVuZGVyKF9qc3goUmVhY3QuU3RyaWN0TW9kZSwgeyBjaGlsZHJlbjogX2pzeChBcHAsIHt9KSB9KSk7Cg==","@":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20vY2xpZW50JzsKaW1wb3J0IEFwcCBmcm9tICdAL0FwcCc7CmNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTsKaWYgKCFyb290RWxlbWVudCkgewogICAgdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCByb290IGVsZW1lbnQgdG8gbW91bnQgdG8iKTsKfQpjb25zdCByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChyb290RWxlbWVudCk7CnJvb3QucmVuZGVyKF9qc3goUmVhY3QuU3RyaWN0TW9kZSwgeyBjaGlsZHJlbjogX2pzeChBcHAsIHt9KSB9KSk7Cg==","@/types":"data:application/javascript;base64,ZXhwb3J0IHt9Owo=","@/components/icons":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmV4cG9ydCBjb25zdCBVc2VySWNvbiA9ICh7IGNsYXNzTmFtZSA9ICd3LTYgaC02JyB9KSA9PiAoX2pzeCgic3ZnIiwgeyB4bWxuczogImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBmaWxsOiAiY3VycmVudENvbG9yIiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IGQ6ICJNMTIgMTJjMi4yMSAwIDQtMS43OSA0LTRzLTEuNzktNC00LTQtNCAxLjc5LTQgNCAxLjc5IDQgNCA0em0wIDJjLTIuNjcgMC04IDEuMzQtOCA0djJoMTZ2LTJjMC0yLjY2LTUuMzMtNC04LTR6IiB9KSB9KSk7CmV4cG9ydCBjb25zdCBBZ2VudEljb24gPSAoeyBjbGFzc05hbWUgPSAndy02IGgtNicgfSkgPT4gKF9qc3goInN2ZyIsIHsgeG1sbnM6ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgZmlsbDogImN1cnJlbnRDb2xvciIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBkOiAiTTE5LjQzIDEyLjk4Yy4wNC0uMzIuMDctLjY0LjA3LS45OHMtLjAzLS42Ni0uMDctLjk4bDIuMTEtMS42NWMuMTktLjE1LjI0LS40Mi4xMi0uNjRsLTItMy40NmMtLjEyLS4yMi0uMzktLjMtLjYxLS4yMmwtMi40OSAxYy0uNTItLjQtMS4wOC0uNzMtMS42OS0uOThsLS4zOC0yLjY1QzE0LjQ2IDIuMTggMTQuMjUgMiAxNCAyaC00Yy0uMjUgMC0uNDYuMTgtLjQ5LjQybC0uMzggMi42NWMtLjYxLjI1LTEuMTcuNTktMS42OS45OGwtMi40OS0xYy0uMjMtLjA5LS40OSAwLS42MS4yMmwtMiAzLjQ2Yy0uMTMuMjItLjA3LjQ5LjEyLjY0bDIuMTEgMS42NWMtLjA0LjMyLS4wNy42NS0uMDcuOThzLjAzLjY2LjA3Ljk4bC0yLjExIDEuNjVjLS4xOS4xNS0uMjQuNDItLjEyLS42NGwyIDMuNDZjLjEyLjIyLjM5LjMuNjEuMjJsMi40OS0xYy41Mi40IDEuMDguNzMgMS42OS45OGwuMzggMi42NWMuMDMuMjQuMjQuNDIuNDkuNDJoNGMuMjUgMCAuNDYtLjE4LjQ5LS40MmwuMzgtMi42NWMuNjEtLjI1IDEuMTctLjU5IDEuNjktLjk4bDIuNDkgMWMuMjMuMDkuNDkgMCAuNjEuMjJsMi0zLjQ2Yy4xMi0uMjIuMDctLjQ5LS4xMi0uNjRsLTIuMTEtMS42NXpNMTIgMTUuNWMtMS45MyAwLTMuNS0xLjU3LTMuNS0zLjVzMS41Ny0zLjUgMy41LTMuNSAzLjUgMS41NyAzLjUgMy41LTEuNTcgMy41LTMuNSAzLjV6IiB9KSB9KSk7CmV4cG9ydCBjb25zdCBQeXRob25JY29uID0gKHsgY2xhc3NOYW1lID0gJ3ctNSBoLTUnIH0pID0+IChfanN4KCJzdmciLCB7IHhtbG5zOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgdmlld0JveDogIjAgMCAyNCAyNCIsIGZpbGw6ICJjdXJyZW50Q29sb3IiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgZmlsbFJ1bGU6ICJldmVub2RkIiwgZDogIk0xMi45NiA1LjYyYTEgMSAwIDAgMC0xLjQxIDEuNDFsLjcuNy0yLjEyIDIuMTMtLjctLjdhMSAxIDAgMSAwLTEuNDIgMS40MWwuNzEuNzFMNy41IDEyLjVsLTEuNTktMS41OWExIDEgMCAxIDAtMS40MSAxLjQxbDEuNTggMS41OS0xLjU4IDEuNTlhMSAxIDAgMSAwIDEuNDEgMS40MWwxLjU5LTEuNThMOS4wOCAxN2wtMS41OSAxLjU5YTEgMSAwIDEgMCAxLjQxIDEuNDFsMS41OS0xLjU4IDIuMTIgMi4xMi43MS43MWExIDEgMCAxIDAgMS40MS0xLjQybC0uNy0uNyAyLjEyLTIuMTIuNy43YTEgMSAwIDEgMCAxLjQyLTEuNDFsLS43MS0uNzEgMS4yMi0xLjIyYTQuNSA0LjUgMCAwIDAtNi4zNi02LjM2bC0uNy43MXpNMTEuNSAxNC42MmwtMi4xMi0yLjEyYTEgMSAwIDAgMC0xLjQxIDBsLS41OS41OWMtLjM5LjM5LS4zOSAxLjAyIDAgMS40MWwyLjEyIDIuMTJhMSAxIDAgMCAwIDEuNDEgMGwuNTktLjU5Yy4zOS0uMzkuMzktMS4wMiAwLTEuNDF6bTMuMTgtNS43OEwxMi41NiAxMWwyLjEyIDIuMTJhMSAxIDAgMCAwIDEuNDEgMGwuNTktLjU5Yy4zOS0uMzkuMzktMS4wMiAwLTEuNDFsLTIuMTItMi4xMmExIDEgMCAwIDAtMS40MSAwbC0uNTkuNTljLS4zOS4zOS0uMzktMS4wMyAwLTEuNDJ6IiwgY2xpcFJ1bGU6ICJldmVub2RkIiB9KSB9KSk7CmV4cG9ydCBjb25zdCBEV1NJTUljb24gPSAoeyBjbGFzc05hbWUgPSAndy01IGgtNScgfSkgPT4gKF9qc3goInN2ZyIsIHsgeG1sbnM6ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgZmlsbDogImN1cnJlbnRDb2xvciIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBmaWxsUnVsZTogImV2ZW5vZGQiLCBkOiAiTTMgNmEzIDMgMCAwIDEgMy0zaDEyYTMgMyAwIDAgMSAzIDN2MTJhMyAzIDAgMCAxLTMgM0g2YTMgMyAwIDAgMS0zLTNWNnptNS4yNSAyLjI1YS43NS43NSAwIDAgMC0xLjUgMHY3LjVhLjc1Ljc1IDAgMCAwIDEuNSAwdi03LjV6bTMuNzUgMGEuNzUuNzUgMCAwIDAtMS41IDB2Ny41YS43NS43NSAwIDAgMCAxLjUgMHYtNy41em0zLjc1IDBhLjc1Ljc1IDAgMCAwLTEuNSAwdjcuNWEuNzUuNzUgMCAwIDAgMS41IDB2LTcuNXoiLCBjbGlwUnVsZTogImV2ZW5vZGQiIH0pIH0pKTsKZXhwb3J0IGNvbnN0IERhdGFBbmFseXNpc0ljb24gPSAoeyBjbGFzc05hbWUgPSAndy01IGgtNScgfSkgPT4gKF9qc3goInN2ZyIsIHsgeG1sbnM6ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgZmlsbDogImN1cnJlbnRDb2xvciIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBkOiAiTTE2IDZsMi4yOSAyLjI5LTQuODggNC44OC00LTRMMiAxNi41OSAzLjQxIDE4bDYtNiA0IDQgNi4zLTYuMjlMMjIgMTJWNmgtNnoiIH0pIH0pKTsKZXhwb3J0IGNvbnN0IEZpbmFsQW5zd2VySWNvbiA9ICh7IGNsYXNzTmFtZSA9ICd3LTUgaC01JyB9KSA9PiAoX2pzeCgic3ZnIiwgeyB4bWxuczogImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBmaWxsOiAiY3VycmVudENvbG9yIiwgY2hpbGRyZW46IF9qc3goInBhdGgiLCB7IGZpbGxSdWxlOiAiZXZlbm9kZCIsIGQ6ICJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptLTIgMTVsLTUtNSAxLjQxLTEuNDFMMTAgMTQuMTdsNy41OS03LjU5TDE5IDhsLTkgOXoiLCBjbGlwUnVsZTogImV2ZW5vZGQiIH0pIH0pKTsKZXhwb3J0IGNvbnN0IFNpdGVtYXBJY29uID0gKHsgY2xhc3NOYW1lID0gJ3ctNSBoLTUnIH0pID0+IChfanN4KCJzdmciLCB7IHhtbG5zOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgdmlld0JveDogIjAgMCAyNCAyNCIsIGZpbGw6ICJjdXJyZW50Q29sb3IiLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgZmlsbFJ1bGU6ICJldmVub2RkIiwgZDogIk02IDNhMyAzIDAgMDEzLTNoNmEzIDMgMCAwMTMgM3YzaC0yVjRhMSAxIDAgMDAtMS0xSDlhMSAxIDAgMDAtMSAxdjJINlYzem0zIDlhMyAzIDAgMDEzLTNoNmEzIDMgMCAwMTMgM3Y2YTMgMyAwIDAxLTMgM2gtNmEzIDMgMCAwMS0zLTN2LTZ6bTIgMHY2YTEgMSAwIDAwMSAxaDZhMSAxIDAgMDAxLTF2LTZhMSAxIDAgMDAtMS0xaC02YTEgMSAwIDAwLTEgMXpNNiAxNWEzIDMgMCAwMTMtM2guNWEuNzUuNzUgMCAwMTAgMS41SDlhMSAxIDAgMDAtMSAxdjZhMSAxIDAgMDAxIDFoNmExIDEgMCAwMDEtMXYtMi41YS43NS43NSAwIDAxMS41IDBWMjFhMyAzIDAgMDEtMyAzSDlhMyAzIDAgMDEtMy0zdi02ek0zIDZhMyAzIDAgMDEzLTN2MmExIDEgMCAwMC0xIDF2NmExIDEgMCAwMDEgMWgyLjVhLjc1Ljc1IDAgMDEwIDEuNUg2YTMgMyAwIDAxLTMtM1Y2eiIsIGNsaXBSdWxlOiAiZXZlbm9kZCIgfSkgfSkpOwpleHBvcnQgY29uc3QgU2VuZEljb24gPSAoeyBjbGFzc05hbWUgPSAndy02IGgtNicgfSkgPT4gKF9qc3goInN2ZyIsIHsgeG1sbnM6ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBmaWxsOiAiY3VycmVudENvbG9yIiwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBkOiAiTTMuNDc4IDIuNDA1YS43NS43NSAwIDAwLS45MjYuOTRsMi40MzIgNy45MDVIMTMuNWEuNzUuNzUgMCAwMTAgMS41SDQuOTg0bC0yLjQzMiA3LjkwNWEuNzUuNzUgMCAwMC45MjYuOTQgNjAuNTE5IDYwLjUxOSAwIDAwMTguNDQ1LTguOTg2Ljc1Ljc1IDAgMDAwLTEuMjE4QTYwLjUxNyA2MC41MTcgMCAwMDMuNDc4IDIuNDA1eiIgfSkgfSkpOwpleHBvcnQgY29uc3QgUGxheUljb24gPSAoeyBjbGFzc05hbWUgPSAndy01IGgtNScgfSkgPT4gKF9qc3goInN2ZyIsIHsgeG1sbnM6ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBmaWxsOiAiY3VycmVudENvbG9yIiwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBmaWxsUnVsZTogImV2ZW5vZGQiLCBkOiAiTTQuNSA1LjY1M2MwLTEuNDI2IDEuNTI5LTIuMzMgMi43NzktMS42NDNsMTEuNTQgNi42NDdjMS4yOTUuNzQ4IDEuMjk1IDIuNTM2IDAgMy4yODRMNy4yNzkgMjAuOTljLTEuMjUuNzItMi43NzktLjIxNy0yLjc3OS0xLjY0M1Y1LjY1M3oiLCBjbGlwUnVsZTogImV2ZW5vZGQiIH0pIH0pKTsKZXhwb3J0IGNvbnN0IFNlYXJjaEljb24gPSAoeyBjbGFzc05hbWUgPSAndy01IGgtNScgfSkgPT4gKF9qc3goInN2ZyIsIHsgeG1sbnM6ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgZmlsbDogImN1cnJlbnRDb2xvciIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBmaWxsUnVsZTogImV2ZW5vZGQiLCBkOiAiTTEwLjUgMy43NWE2Ljc1IDYuNzUgMCAxMDAgMTMuNSA2Ljc1IDYuNzUgMCAwMDAtMTMuNXpNMi4yNSAxMC41YTguMjUgOC4yNSAwIDExMTQuNTkgNS4yOGw0LjY5IDQuNjlhLjc1Ljc1IDAgMTEtMS4wNiAxLjA2bC00LjY5LTQuNjlBOC4yNSA4LjI1IDAgMDEyLjI1IDEwLjV6IiwgY2xpcFJ1bGU6ICJldmVub2RkIiB9KSB9KSk7CmV4cG9ydCBjb25zdCBDaGFydEJhckljb24gPSAoeyBjbGFzc05hbWUgPSAndy01IGgtNScgfSkgPT4gKF9qc3goInN2ZyIsIHsgeG1sbnM6ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBmaWxsOiAiY3VycmVudENvbG9yIiwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBkOiAiTTE4Ljc1IDMuNzVoLTMuNzVhLjc1Ljc1IDAgMDAtLjc1Ljc1djE1YS43NS43NSAwIDAwLjc1Ljc1aDMuNzVhLjc1Ljc1IDAgMDAuNzUtLjc1di0xNWEuNzUuNzUgMCAwMC0uNzUtLjc1ek05IDguMjVoLTMuNzVhLjc1Ljc1IDAgMDAtLjc1Ljc1djEwLjVhLjc1Ljc1IDAgMDAuNzUuNzVIOWEuNzUuNzUgMCAwMC43NS0uNzVWOWEuNzUuNzUgMCAwMC0uNzUtLjc1ek0xMi43NSAxMi43NWgzLjc1YS43NS43NSAwIDAxLjc1Ljc1djZhLjc1Ljc1IDAgMDEtLjc1Ljc1aC0zLjc1YS43NS43NSAwIDAxLS43NS0uNzV2LTZhLjc1Ljc1IDAgMDEuNzUtLjc1eiIgfSkgfSkpOwpleHBvcnQgY29uc3QgRXJyb3JJY29uID0gKHsgY2xhc3NOYW1lID0gJ3ctNSBoLTUnIH0pID0+IChfanN4KCJzdmciLCB7IHhtbG5zOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgZmlsbDogImN1cnJlbnRDb2xvciIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgZmlsbFJ1bGU6ICJldmVub2RkIiwgZDogIk05LjQwMSAzLjAwM2MxLjE1NS0yIDQuMDQzLTIgNS4xOTcgMGw3LjM1NSAxMi43NTJhMyAzIDAgMDEtMi41OTggNC41SDQuNjQ0YTMgMyAwIDAxLTIuNTk4LTQuNUw5LjQgMy4wMDN6TTEyIDguMjVhLjc1Ljc1IDAgMDEuNzUuNzV2My43NWEuNzUuNzUgMCAwMS0xLjUgMFY5YS43NS43NSAwIDAxLjc1LS43NXptMCA4LjI1YS43NS43NSAwIDEwMC0xLjUuNzUuNzUgMCAwMDAgMS41eiIsIGNsaXBSdWxlOiAiZXZlbm9kZCIgfSkgfSkpOwpleHBvcnQgY29uc3QgSW1hZ2VJY29uID0gKHsgY2xhc3NOYW1lID0gJ3ctNiBoLTYnIH0pID0+IChfanN4KCJzdmciLCB7IHhtbG5zOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCB2aWV3Qm94OiAiMCAwIDI0IDI0IiwgZmlsbDogImN1cnJlbnRDb2xvciIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBjaGlsZHJlbjogX2pzeCgicGF0aCIsIHsgZmlsbFJ1bGU6ICJldmVub2RkIiwgZDogIk0xLjUgNmEyLjI1IDIuMjUgMCAwMTIuMjUtMi4yNWgxNi41QTIuMjUgMi4yNSAwIDAxMjIuNSA2djEyYTIuMjUgMi4yNSAwIDAxLTIuMjUgMi4yNUgzLjc1QTIuMjUgMi4yNSAwIDAxMS41IDE4VjZ6TTMgMTYuMDZsNC40Ny00LjQ3YS43NS43NSAwIDAxMS4wNiAwbDMuOTcgMy45N0wxNS45NyAxMmEuNzUuNzUgMCAwMTEuMDYgMGwzLjQ3IDMuNDdWNkgzdjEwLjA2ek02Ljc1IDlhMS41IDEuNSAwIDExMyAwIDEuNSAxLjUgMCAwMS0zIDB6IiwgY2xpcFJ1bGU6ICJldmVub2RkIiB9KSB9KSk7CmV4cG9ydCBjb25zdCBDbG9zZUljb24gPSAoeyBjbGFzc05hbWUgPSAndy01IGgtNScgfSkgPT4gKF9qc3goInN2ZyIsIHsgeG1sbnM6ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsIHZpZXdCb3g6ICIwIDAgMjQgMjQiLCBmaWxsOiAiY3VycmVudENvbG9yIiwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBmaWxsUnVsZTogImV2ZW5vZGQiLCBkOiAiTTEyIDIuMjVjLTUuMzg1IDAtOS43NSA0LjM2NS05Ljc1IDkuNzVzNC4zNjUgOS43NSA5Ljc1IDkuNzUgOS43NS00LjM2NSA5Ljc1LTkuNzVTMTcuMzg1IDIuMjUgMTIgMi4yNXptLTEuNzIgNi45N2EuNzUuNzUgMCAxMC0xLjA2IDEuMDZMMTAuOTQgMTJsLTEuNzIgMS43MmEuNzUuNzUgMCAxMDEuMDYgMS4wNkwxMiAxMy4wNmwxLjcyIDEuNzJhLjc1Ljc1IDAgMTAxLjA2LTEuMDZMMTMuMDYgMTJsMS43Mi0xLjcyYS43NS43NSAwIDEwLTEuMDYtMS4wNkwxMiAxMC45NGwtMS43Mi0xLjcyeiIsIGNsaXBSdWxlOiAiZXZlbm9kZCIgfSkgfSkpOwo=","@/services/geminiService":"data:application/javascript;base64,aW1wb3J0IHsgR29vZ2xlR2VuQUksIFR5cGUgfSBmcm9tICdAZ29vZ2xlL2dlbmFpJzsKY29uc3QgQVBJX0tFWSA9IHByb2Nlc3MuZW52LkFQSV9LRVk7CmlmICghQVBJX0tFWSkgewogICAgLy8gSW4gYSByZWFsIGFwcCwgeW91IG1pZ2h0IHVzZSBhIHBsYWNlaG9sZGVyIGtleSBvciBzaG93IGEgbW9yZSBncmFjZWZ1bCBlcnJvci4KICAgIC8vIEZvciB0aGlzIGNvbnRleHQsIHdlJ2xsIHByb2NlZWQgYnV0IGxvZyBhIHdhcm5pbmcsIGFzIHRoZSBlbnZpcm9ubWVudCBzaG91bGQgcHJvdmlkZSB0aGUga2V5LgogICAgY29uc29sZS53YXJuKCJBUElfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlIG5vdCBzZXQuIFRoZSBhcHBsaWNhdGlvbiB3aWxsIG5vdCBmdW5jdGlvbiBjb3JyZWN0bHkuIik7Cn0KY29uc3QgYWkgPSBuZXcgR29vZ2xlR2VuQUkoeyBhcGlLZXk6IEFQSV9LRVkgfSk7CmNvbnN0IHN5c3RlbUluc3RydWN0aW9uID0gYFlvdSBhcmUgYSB3b3JsZC1jbGFzcyBhZ2VudGljIEFJIGZvciBjaGVtaWNhbCBwcm9jZXNzIHNpbXVsYXRpb24uIFlvdXIgcHVycG9zZSBpcyB0byBhc3Npc3QgdXNlcnMgYnkgdXNpbmcgRFdTSU0gYW5kIFB5dGhvbi4KWW91IGNhbiBub3cgYWxzbyBhbmFseXplIGltYWdlcyBwcm92aWRlZCBieSB0aGUgdXNlci4gSWYgYW4gaW1hZ2Ugb2YgYSBkaWFncmFtLCBjaGFydCwgb3IgcGllY2Ugb2YgZXF1aXBtZW50IGlzIHByb3ZpZGVkLCBkZXNjcmliZSB3aGF0IHlvdSBzZWUgYW5kIGhvdyBpdCBtaWdodCByZWxhdGUgdG8gY2hlbWljYWwgZW5naW5lZXJpbmcgb3IgdGhlIHVzZXIncyBwcm9tcHQuCldoZW4gYSB1c2VyIHByb3ZpZGVzIGEgaGlnaC1sZXZlbCBnb2FsLCB5b3UgbXVzdCBmaXJzdCBjcmVhdGUgYSBzdGVwLWJ5LXN0ZXAgcGxhbi4KVGhlbiwgeW91IG11c3QgZXhlY3V0ZSB0aGUgcGxhbiBzdGVwLWJ5LXN0ZXAuIEZvciBlYWNoIHN0ZXAsIHlvdSBtdXN0OgoxLiAgU3RhdGUgeW91ciAndGhvdWdodCcgcHJvY2VzcyBmb3IgdGhlIGN1cnJlbnQgc3RlcC4KMi4gIENob29zZSBhICd0b29sJyBmcm9tIHRoaXMgbGlzdDogWydQeXRob24nLCAnRFdTSU0nLCAnRGF0YUFuYWx5c2lzJywgJ1Zpc3VhbGl6YXRpb24nLCAnRmluYWxBbnN3ZXInXS4KMy4gIElmIHRoZSB0b29sIGlzICdQeXRob24nLCBnZW5lcmF0ZSB0aGUgY29tcGxldGUsIGV4ZWN1dGFibGUgUHl0aG9uIGNvZGUgdG8gaW50ZXJhY3Qgd2l0aCBEV1NJTSBhdXRvbWF0aW9uIG9yIHBlcmZvcm0gY2FsY3VsYXRpb25zIGluIHRoZSAndG9vbF9pbnB1dCcuIFRoZSBQeXRob24gZW52aXJvbm1lbnQgaXMgc2FuZGJveGVkOiBuZXR3b3JrIGFjY2VzcywgZmlsZSBzeXN0ZW0gYWNjZXNzLCBhbmQgcGFja2FnZSBpbnN0YWxsYXRpb24gYXJlIGRpc2FibGVkLiBUaGUgbW9ja2VkIERXU0lNIGVudmlyb25tZW50IGluIFB5dGhvbiBzdXBwb3J0cyBtZXRob2RzIGxpa2UgXGBEV1NJTS5BdXRvbWF0aW9uLkdldEZsb3dzaGVldFxgLCBcYGZsb3dzaGVldC5HZXRPYmplY3RcYCwgXGBmbG93c2hlZXQuU2V0VGhlcm1vZHluYW1pY1BhY2thZ2VcYCwgXGBmbG93c2hlZXQuQ29ubmVjdFxgLCBcYG9iamVjdC5TZXQocHJvcGVydHksIHZhbHVlKVxgLCBcYG9iamVjdC5HZXRQcm9wZXJ0eShwcm9wZXJ0eSlcYCwgYW5kIFxgb2JqZWN0LlNldE92ZXJhbGxDb21wb3VuZEZyYWN0aW9uXGAuIFRoZSBlbnZpcm9ubWVudCBhbHNvIGluY2x1ZGVzIGEgc3RhbmRhcmQgXGBsb2dnaW5nXGAgbW9kdWxlLiBVc2UgXGBsb2dnaW5nLmluZm8oKVxgLCBcYGxvZ2dpbmcud2FybmluZygpXGAsIGV0Yy4gdG8gbG9nIG1lc3NhZ2VzLiBCeSBkZWZhdWx0LCBsb2dzIGFyZSBjYXB0dXJlZCBhbmQgZGlzcGxheWVkLiBVc2UgdGhlIFxgY29uZmlndXJlX2xvZ2dpbmcobGV2ZWw9J0lORk8nLCBkZXN0aW5hdGlvbj0nY2FwdHVyZScpXGAgZnVuY3Rpb24gdG8gY29udHJvbCBsb2cgbGV2ZWwgYW5kIG91dHB1dC4KNC4gIElmIHRoZSB0b29sIGlzICdEV1NJTScsIGRlc2NyaWJlIHRoZSBzaW11bGF0aW9uIGFjdGlvbiBpbiAndGhvdWdodCcgYW5kIHByb3ZpZGUgYSBjb21tYW5kIGluICd0b29sX2lucHV0JyB0byBpbnNwZWN0IHRoZSBzaW11bGF0aW9uIHN0YXRlLiBUaGUgZW52aXJvbm1lbnQgY29udGFpbnMgY29tcGxleCBvYmplY3RzIGxpa2UgJ0Rpc3RpbGxhdGlvbkNvbHVtbicsICdDU1RSJywgJ1B1bXAnLCAnSGVhdEV4Y2hhbmdlcicsIGFuZCAnQ29tcHJlc3NvcicuIFZhbGlkIGNvbW1hbmRzIGFyZSAnbGlzdF9vYmplY3RzJywgJ2dldF9hbGxfcHJvcGVydGllcyA8b2JqZWN0X25hbWU+Jywgb3IgJ2dldF9wcm9wZXJ0eSA8b2JqZWN0X25hbWU+IDxwcm9wZXJ0eV9uYW1lPicuIFRvIHRyaWdnZXIgYSBzaW11bGF0aW9uIHJ1biwgdXNlIHRoZSBjb21tYW5kICdjYWxjdWxhdGUgPG1vZGU+Jywgd2hlcmUgbW9kZSBjYW4gYmUgJ3N5bmMnICh3YWl0cyBmb3IgY29tcGxldGlvbikgb3IgJ2FzeW5jJyAoc3RhcnRzIGFuZCBjb250aW51ZXMpLiBMZWF2ZSAndG9vbF9vdXRwdXQnIGVtcHR5IGFzIGl0IHdpbGwgYmUgZ2VuZXJhdGVkIGJ5IHRoZSBlbnZpcm9ubWVudC4KNS4gIElmIHRoZSB0b29sIGlzICdEYXRhQW5hbHlzaXMnLCBkZXNjcmliZSB5b3VyIGFuYWx5c2lzIGluIHRoZSAndGhvdWdodCcgYW5kIHN1bW1hcml6ZSB0aGUgZmluZGluZ3MgaW4gJ3Rvb2xfb3V0cHV0Jy4KNi4gIElmIHRoZSB0b29sIGlzICdWaXN1YWxpemF0aW9uJywgc3BlY2lmeSB0aGUgdHlwZSBvZiB2aXN1YWxpemF0aW9uIGluICd0b29sX2lucHV0JyAoZS5nLiwgJ2Zsb3dzaGVldCBkaWFncmFtJykgYW5kIHByb3ZpZGUgYSBicmllZiBkZXNjcmlwdGlvbiBpbiAndG9vbF9vdXRwdXQnLiBUaGUgZW52aXJvbm1lbnQgd2lsbCBnZW5lcmF0ZSB0aGUgdmlzdWFsLgo3LiAgSWYgdGhlIHRvb2wgaXMgJ0ZpbmFsQW5zd2VyJywgcHJvdmlkZSB0aGUgZmluYWwsIGNvbmNsdXNpdmUgYW5zd2VyIHRvIHRoZSB1c2VyJ3MgcmVxdWVzdC4gU2V0ICdpc19maW5hbF9hbnN3ZXInIHRvIHRydWUuCjguICBUaGUgcmVzcG9uc2UgTVVTVCBiZSBhIHNpbmdsZSwgdmFsaWQgSlNPTiBvYmplY3QgdGhhdCBzdHJpY3RseSBhZGhlcmVzIHRvIHRoZSBwcm92aWRlZCBzY2hlbWEuIERvIG5vdCBhZGQgYW55IHRleHQgb3IgZm9ybWF0dGluZyBvdXRzaWRlIG9mIHRoZSBKU09OIHN0cnVjdHVyZS5gOwpjb25zdCByZXNwb25zZVNjaGVtYSA9IHsKICAgIHR5cGU6IFR5cGUuT0JKRUNULAogICAgcHJvcGVydGllczogewogICAgICAgIHBsYW46IHsKICAgICAgICAgICAgdHlwZTogVHlwZS5BUlJBWSwKICAgICAgICAgICAgaXRlbXM6IHsgdHlwZTogVHlwZS5TVFJJTkcgfSwKICAgICAgICAgICAgZGVzY3JpcHRpb246ICJBIHN0ZXAtYnktc3RlcCBwbGFuIHRvIGFjaGlldmUgdGhlIHVzZXIncyBnb2FsLiIKICAgICAgICB9LAogICAgICAgIHN0ZXBzOiB7CiAgICAgICAgICAgIHR5cGU6IFR5cGUuQVJSQVksCiAgICAgICAgICAgIGl0ZW1zOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBUeXBlLk9CSkVDVCwKICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHsKICAgICAgICAgICAgICAgICAgICB0aG91Z2h0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIllvdXIgcmVhc29uaW5nIGZvciB0aGUgY3VycmVudCBhY3Rpb24uIgogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgdG9vbDogewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBUeXBlLlNUUklORywKICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICJUaGUgdG9vbCB5b3UgYXJlIHVzaW5nIGZvciB0aGlzIHN0ZXAgKFB5dGhvbiwgRFdTSU0sIERhdGFBbmFseXNpcywgVmlzdWFsaXphdGlvbiwgRmluYWxBbnN3ZXIpLiIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHRvb2xfaW5wdXQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogVHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiSW5wdXQgZm9yIHRoZSB0b29sLCBlLmcuLCBQeXRob24gY29kZSBvciBEV1NJTSBjb21tYW5kLiIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHRvb2xfb3V0cHV0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIlRoZSByZXN1bHQgb3Igb3V0cHV0IGZyb20gdGhlIHRvb2wgKGxlYXZlIGVtcHR5IGZvciBEV1NJTSkuIgogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgaXNfZmluYWxfYW5zd2VyOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFR5cGUuQk9PTEVBTiwKICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICJUcnVlIGlmIHRoaXMgaXMgdGhlIGZpbmFsIGFuc3dlciB0byB0aGUgdXNlci4iCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBbInRob3VnaHQiLCAidG9vbCIsICJpc19maW5hbF9hbnN3ZXIiXQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIHJlcXVpcmVkOiBbInBsYW4iLCAic3RlcHMiXQp9OwpleHBvcnQgY29uc3QgcnVuQWdlbnQgPSBhc3luYyAocHJvbXB0LCBpc1RoaW5raW5nTW9kZSwgaW1hZ2UpID0+IHsKICAgIHRyeSB7CiAgICAgICAgbGV0IG1vZGVsID0gaXNUaGlua2luZ01vZGUgPyAnZ2VtaW5pLTIuNS1wcm8nIDogJ2dlbWluaS1mbGFzaC1saXRlLWxhdGVzdCc7CiAgICAgICAgbGV0IGNvbnRlbnRGb3JBcGkgPSBwcm9tcHQ7CiAgICAgICAgbGV0IHVzZVRoaW5raW5nQ29uZmlnID0gaXNUaGlua2luZ01vZGU7CiAgICAgICAgaWYgKGltYWdlKSB7CiAgICAgICAgICAgIG1vZGVsID0gJ2dlbWluaS0yLjUtZmxhc2gnOyAvLyBPdmVycmlkZSBtb2RlbCBmb3IgbXVsdGltb2RhbCBpbnB1dAogICAgICAgICAgICBjb250ZW50Rm9yQXBpID0gWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlubGluZURhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgbWltZVR5cGU6IGltYWdlLm1pbWVUeXBlLAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBpbWFnZS5kYXRhLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgeyB0ZXh0OiBwcm9tcHQgfSwKICAgICAgICAgICAgXTsKICAgICAgICAgICAgdXNlVGhpbmtpbmdDb25maWcgPSBmYWxzZTsgLy8gRG9uJ3QgdXNlIHRoaW5raW5nIG1vZGUgZm9yIGltYWdlIGFuYWx5c2lzIGZvciBub3cKICAgICAgICB9CiAgICAgICAgY29uc3QgY29uZmlnID0gewogICAgICAgICAgICBzeXN0ZW1JbnN0cnVjdGlvbjogc3lzdGVtSW5zdHJ1Y3Rpb24sCiAgICAgICAgICAgIHJlc3BvbnNlTWltZVR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHJlc3BvbnNlU2NoZW1hLAogICAgICAgICAgICB0ZW1wZXJhdHVyZTogMC4yCiAgICAgICAgfTsKICAgICAgICBpZiAodXNlVGhpbmtpbmdDb25maWcpIHsKICAgICAgICAgICAgY29uZmlnLnRoaW5raW5nQ29uZmlnID0geyB0aGlua2luZ0J1ZGdldDogMzI3NjggfTsKICAgICAgICB9CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50KHsKICAgICAgICAgICAgbW9kZWw6IG1vZGVsLAogICAgICAgICAgICBjb250ZW50czogY29udGVudEZvckFwaSwKICAgICAgICAgICAgY29uZmlnOiBjb25maWcsCiAgICAgICAgfSk7CiAgICAgICAgY29uc3QganNvblRleHQgPSByZXNwb25zZS50ZXh0LnRyaW0oKTsKICAgICAgICBjb25zdCBwYXJzZWRSZXNwb25zZSA9IEpTT04ucGFyc2UoanNvblRleHQpOwogICAgICAgIHJldHVybiBwYXJzZWRSZXNwb25zZTsKICAgIH0KICAgIGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGNhbGxpbmcgR2VtaW5pIEFQSToiLCBlcnJvcik7CiAgICAgICAgLy8gQ3JlYXRlIGEgdXNlci1mcmllbmRseSBlcnJvciByZXNwb25zZSB0aGF0IGZpdHMgdGhlIEFnZW50UmVzcG9uc2Ugc3RydWN0dXJlCiAgICAgICAgY29uc3QgZXJyb3JSZXNwb25zZSA9IHsKICAgICAgICAgICAgcGxhbjogWyJFcnJvciBPY2N1cnJlZCJdLAogICAgICAgICAgICBzdGVwczogW3sKICAgICAgICAgICAgICAgICAgICB0aG91Z2h0OiAiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY29tbXVuaWNhdGluZyB3aXRoIHRoZSBBSSBtb2RlbC4gVGhpcyBjb3VsZCBiZSBkdWUgdG8gYSBuZXR3b3JrIGlzc3VlLCBhbiBpbnZhbGlkIEFQSSBrZXksIG9yIGEgcHJvYmxlbSB3aXRoIHRoZSBtb2RlbCdzIHJlc3BvbnNlLiIsCiAgICAgICAgICAgICAgICAgICAgdG9vbDogJ0ZpbmFsQW5zd2VyJywKICAgICAgICAgICAgICAgICAgICB0b29sX291dHB1dDogYEknbSBzb3JyeSwgSSBlbmNvdW50ZXJlZCBhbiBlcnJvciBhbmQgY291bGRuJ3QgY29tcGxldGUgeW91ciByZXF1ZXN0LiBQbGVhc2UgY2hlY2sgdGhlIGNvbnNvbGUgZm9yIGRldGFpbHMuIEVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gLAogICAgICAgICAgICAgICAgICAgIGlzX2ZpbmFsX2Fuc3dlcjogdHJ1ZSwKICAgICAgICAgICAgICAgIH1dCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gZXJyb3JSZXNwb25zZTsKICAgIH0KfTsK","@/App":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gInJlYWN0L2pzeC1ydW50aW1lIjsKaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBydW5BZ2VudCB9IGZyb20gJ0Avc2VydmljZXMvZ2VtaW5pU2VydmljZSc7CmltcG9ydCB7IGdldFB5b2RpZGUsIHJ1blB5dGhvbiB9IGZyb20gJ0Avc2VydmljZXMvcHlvZGlkZSc7CmltcG9ydCB7IEFnZW50SWNvbiwgRGF0YUFuYWx5c2lzSWNvbiwgRFdTSU1JY29uLCBGaW5hbEFuc3dlckljb24sIFB5dGhvbkljb24sIFNlbmRJY29uLCBVc2VySWNvbiwgUGxheUljb24sIFNlYXJjaEljb24sIENoYXJ0QmFySWNvbiwgU2l0ZW1hcEljb24sIEVycm9ySWNvbiwgSW1hZ2VJY29uLCBDbG9zZUljb24gfSBmcm9tICdAL2NvbXBvbmVudHMvaWNvbnMnOwpjb25zdCBtb2NrU2ltdWxhdGlvblN0YXRlID0gWwogICAgLy8gLS0tIEZlZWQgU2VjdGlvbiAtLS0KICAgIHsKICAgICAgICBuYW1lOiAncmF3X2ZlZWQnLAogICAgICAgIHR5cGU6ICdTdHJlYW0nLAogICAgICAgIHByb3BlcnRpZXM6IHsKICAgICAgICAgICAgVGVtcGVyYXR1cmU6IHsgdmFsdWU6IDI1LCB1bml0OiAnQycgfSwKICAgICAgICAgICAgUHJlc3N1cmU6IHsgdmFsdWU6IDEuMiwgdW5pdDogJ2F0bScgfSwKICAgICAgICAgICAgJ01vbGFyIEZsb3cnOiB7IHZhbHVlOiAxMDAsIHVuaXQ6ICdrbW9sL2gnIH0sCiAgICAgICAgICAgICdFdGhhbm9sJzogeyB2YWx1ZTogMC40IH0sCiAgICAgICAgICAgICdXYXRlcic6IHsgdmFsdWU6IDAuNiB9CiAgICAgICAgfQogICAgfSwKICAgIHsKICAgICAgICBuYW1lOiAnZmVlZF9wdW1wJywKICAgICAgICB0eXBlOiAnUHVtcCcsCiAgICAgICAgcHJvcGVydGllczogewogICAgICAgICAgICBJbmxldDogeyB2YWx1ZTogJ3Jhd19mZWVkJyB9LAogICAgICAgICAgICBPdXRsZXQ6IHsgdmFsdWU6ICdwcmVzc3VyaXplZF9mZWVkJyB9LAogICAgICAgICAgICAnT3V0bGV0IFByZXNzdXJlJzogeyB2YWx1ZTogMywgdW5pdDogJ2F0bScgfSwKICAgICAgICAgICAgRWZmaWNpZW5jeTogeyB2YWx1ZTogMC44IH0KICAgICAgICB9CiAgICB9LAogICAgewogICAgICAgIG5hbWU6ICdwcmVzc3VyaXplZF9mZWVkJywKICAgICAgICB0eXBlOiAnU3RyZWFtJywKICAgICAgICBwcm9wZXJ0aWVzOiB7CiAgICAgICAgICAgIFRlbXBlcmF0dXJlOiB7IHZhbHVlOiAyNiwgdW5pdDogJ0MnIH0sIC8vIFNsaWdodCB0ZW1wIGluY3JlYXNlIGZyb20gcHVtcAogICAgICAgICAgICBQcmVzc3VyZTogeyB2YWx1ZTogMywgdW5pdDogJ2F0bScgfSwKICAgICAgICAgICAgJ01vbGFyIEZsb3cnOiB7IHZhbHVlOiAxMDAsIHVuaXQ6ICdrbW9sL2gnIH0sCiAgICAgICAgfQogICAgfSwKICAgIHsKICAgICAgICBuYW1lOiAnZmVlZF9wcmVoZWF0ZXInLAogICAgICAgIHR5cGU6ICdIZWF0RXhjaGFuZ2VyJywKICAgICAgICBwcm9wZXJ0aWVzOiB7CiAgICAgICAgICAgICdIb3QgU2lkZSBJbmxldCc6IHsgdmFsdWU6ICdib3R0b21zJyB9LAogICAgICAgICAgICAnSG90IFNpZGUgT3V0bGV0JzogeyB2YWx1ZTogJ2Nvb2xlZF9ib3R0b21zJyB9LAogICAgICAgICAgICAnQ29sZCBTaWRlIElubGV0JzogeyB2YWx1ZTogJ3ByZXNzdXJpemVkX2ZlZWQnIH0sCiAgICAgICAgICAgICdDb2xkIFNpZGUgT3V0bGV0JzogeyB2YWx1ZTogJ3ByZWhlYXRlZF9mZWVkJyB9LAogICAgICAgICAgICBEdXR5OiB7IHZhbHVlOiA4MDAsIHVuaXQ6ICdrVycgfSwKICAgICAgICAgICAgJ092ZXJhbGwgSGVhdCBUcmFuc2ZlciBDb2VmZmljaWVudCc6IHsgdmFsdWU6IDE1MDAsIHVuaXQ6ICdXL21eMi5LJyB9CiAgICAgICAgfQogICAgfSwKICAgIHsKICAgICAgICBuYW1lOiAncHJlaGVhdGVkX2ZlZWQnLAogICAgICAgIHR5cGU6ICdTdHJlYW0nLAogICAgICAgIHByb3BlcnRpZXM6IHsKICAgICAgICAgICAgVGVtcGVyYXR1cmU6IHsgdmFsdWU6IDcwLCB1bml0OiAnQycgfSwgLy8gUHJlLWhlYXRlZAogICAgICAgICAgICBQcmVzc3VyZTogeyB2YWx1ZTogMi44LCB1bml0OiAnYXRtJyB9LCAvLyBQcmVzc3VyZSBkcm9wCiAgICAgICAgICAgICdNb2xhciBGbG93JzogeyB2YWx1ZTogMTAwLCB1bml0OiAna21vbC9oJyB9LAogICAgICAgIH0KICAgIH0sCiAgICB7CiAgICAgICAgbmFtZTogJ2ZlZWRfaGVhdGVyJywKICAgICAgICB0eXBlOiAnSGVhdGVyJywKICAgICAgICBwcm9wZXJ0aWVzOiB7CiAgICAgICAgICAgIElubGV0OiB7IHZhbHVlOiAncHJlaGVhdGVkX2ZlZWQnIH0sCiAgICAgICAgICAgIE91dGxldDogeyB2YWx1ZTogJ2hlYXRlZF9mZWVkJyB9LAogICAgICAgICAgICBEdXR5OiB7IHZhbHVlOiA0MDAsIHVuaXQ6ICdrVycgfSwgLy8gTGVzcyBkdXR5IG5lZWRlZCBub3cKICAgICAgICAgICAgJ091dGxldCBUZW1wZXJhdHVyZSc6IHsgdmFsdWU6IDk1LCB1bml0OiAnQycgfQogICAgICAgIH0KICAgIH0sCiAgICB7CiAgICAgICAgbmFtZTogJ2hlYXRlZF9mZWVkJywKICAgICAgICB0eXBlOiAnU3RyZWFtJywKICAgICAgICBwcm9wZXJ0aWVzOiB7CiAgICAgICAgICAgIFRlbXBlcmF0dXJlOiB7IHZhbHVlOiA5NSwgdW5pdDogJ0MnIH0sCiAgICAgICAgICAgIFByZXNzdXJlOiB7IHZhbHVlOiAyLjYsIHVuaXQ6ICdhdG0nIH0sCiAgICAgICAgICAgICdNb2xhciBGbG93JzogeyB2YWx1ZTogMTAwLCB1bml0OiAna21vbC9oJyB9CiAgICAgICAgfQogICAgfSwKICAgIC8vIC0tLSBTZXBhcmF0aW9uIFNlY3Rpb24gLS0tCiAgICB7CiAgICAgICAgbmFtZTogJ2Rpc3RpbGxhdGlvbl9jb2x1bW4nLAogICAgICAgIHR5cGU6ICdEaXN0aWxsYXRpb25Db2x1bW4nLAogICAgICAgIHByb3BlcnRpZXM6IHsKICAgICAgICAgICAgSW5sZXRzOiB7IHZhbHVlOiBbJ2hlYXRlZF9mZWVkJ10gfSwKICAgICAgICAgICAgJ1RvcCBPdXRsZXQnOiB7IHZhbHVlOiAnZGlzdGlsbGF0ZScgfSwKICAgICAgICAgICAgJ0JvdHRvbSBPdXRsZXQnOiB7IHZhbHVlOiAnYm90dG9tcycgfSwKICAgICAgICAgICAgJ051bWJlciBvZiBTdGFnZXMnOiB7IHZhbHVlOiAxMCB9LAogICAgICAgICAgICAnRmVlZCBTdGFnZSc6IHsgdmFsdWU6IDUgfSwKICAgICAgICAgICAgJ1JlZmx1eCBSYXRpbyc6IHsgdmFsdWU6IDEuNSB9LAogICAgICAgICAgICAnQm9pbHVwIFJhdGlvJzogeyB2YWx1ZTogMi4wIH0KICAgICAgICB9CiAgICB9LAogICAgewogICAgICAgIG5hbWU6ICdkaXN0aWxsYXRlJywKICAgICAgICB0eXBlOiAnU3RyZWFtJywKICAgICAgICBwcm9wZXJ0aWVzOiB7CiAgICAgICAgICAgIFRlbXBlcmF0dXJlOiB7IHZhbHVlOiA3OCwgdW5pdDogJ0MnIH0sCiAgICAgICAgICAgIFByZXNzdXJlOiB7IHZhbHVlOiAxLCB1bml0OiAnYXRtJyB9LAogICAgICAgICAgICAnTW9sYXIgRmxvdyc6IHsgdmFsdWU6IDM4LCB1bml0OiAna21vbC9oJyB9LAogICAgICAgICAgICAnRXRoYW5vbCc6IHsgdmFsdWU6IDAuOTUgfSwKICAgICAgICAgICAgJ1dhdGVyJzogeyB2YWx1ZTogMC4wNSB9CiAgICAgICAgfQogICAgfSwKICAgIHsKICAgICAgICBuYW1lOiAnYm90dG9tcycsCiAgICAgICAgdHlwZTogJ1N0cmVhbScsCiAgICAgICAgcHJvcGVydGllczogewogICAgICAgICAgICBUZW1wZXJhdHVyZTogeyB2YWx1ZTogMTAyLCB1bml0OiAnQycgfSwKICAgICAgICAgICAgUHJlc3N1cmU6IHsgdmFsdWU6IDEuMSwgdW5pdDogJ2F0bScgfSwKICAgICAgICAgICAgJ01vbGFyIEZsb3cnOiB7IHZhbHVlOiA2MiwgdW5pdDogJ2ttb2wvaCcgfSwKICAgICAgICAgICAgJ0V0aGFub2wnOiB7IHZhbHVlOiAwLjAxIH0sCiAgICAgICAgICAgICdXYXRlcic6IHsgdmFsdWU6IDAuOTkgfQogICAgICAgIH0KICAgIH0sCiAgICB7CiAgICAgICAgbmFtZTogJ2Nvb2xlZF9ib3R0b21zJywgLy8gRnJvbSBoZWF0IGV4Y2hhbmdlcgogICAgICAgIHR5cGU6ICdTdHJlYW0nLAogICAgICAgIHByb3BlcnRpZXM6IHsKICAgICAgICAgICAgVGVtcGVyYXR1cmU6IHsgdmFsdWU6IDQ1LCB1bml0OiAnQycgfSwKICAgICAgICAgICAgUHJlc3N1cmU6IHsgdmFsdWU6IDEsIHVuaXQ6ICdhdG0nIH0sCiAgICAgICAgICAgICdNb2xhciBGbG93JzogeyB2YWx1ZTogNjIsIHVuaXQ6ICdrbW9sL2gnIH0KICAgICAgICB9CiAgICB9LAogICAgLy8gLS0tIFJlYWN0aW9uIFNlY3Rpb24gLS0tCiAgICB7CiAgICAgICAgbmFtZTogJ2Rpc3RpbGxhdGVfY29tcHJlc3NvcicsCiAgICAgICAgdHlwZTogJ0NvbXByZXNzb3InLAogICAgICAgIHByb3BlcnRpZXM6IHsKICAgICAgICAgICAgSW5sZXQ6IHsgdmFsdWU6ICdkaXN0aWxsYXRlJyB9LAogICAgICAgICAgICBPdXRsZXQ6IHsgdmFsdWU6ICdjb21wcmVzc2VkX2Rpc3RpbGxhdGUnIH0sCiAgICAgICAgICAgICdPdXRsZXQgUHJlc3N1cmUnOiB7IHZhbHVlOiA1LCB1bml0OiAnYXRtJyB9LAogICAgICAgICAgICAnSXNlbnRyb3BpYyBFZmZpY2llbmN5JzogeyB2YWx1ZTogMC43NSB9LAogICAgICAgICAgICAnUG93ZXIgQ29uc3VtZWQnOiB7IHZhbHVlOiA1MCwgdW5pdDogJ2tXJyB9CiAgICAgICAgfQogICAgfSwKICAgIHsKICAgICAgICBuYW1lOiAnY29tcHJlc3NlZF9kaXN0aWxsYXRlJywKICAgICAgICB0eXBlOiAnU3RyZWFtJywKICAgICAgICBwcm9wZXJ0aWVzOiB7CiAgICAgICAgICAgIFRlbXBlcmF0dXJlOiB7IHZhbHVlOiAxMjAsIHVuaXQ6ICdDJyB9LAogICAgICAgICAgICBQcmVzc3VyZTogeyB2YWx1ZTogNSwgdW5pdDogJ2F0bScgfSwKICAgICAgICAgICAgJ01vbGFyIEZsb3cnOiB7IHZhbHVlOiAzOCwgdW5pdDogJ2ttb2wvaCcgfSwKICAgICAgICB9CiAgICB9LAogICAgewogICAgICAgIG5hbWU6ICdjc3RyX3JlYWN0b3InLAogICAgICAgIHR5cGU6ICdDU1RSJywKICAgICAgICBwcm9wZXJ0aWVzOiB7CiAgICAgICAgICAgIElubGV0OiB7IHZhbHVlOiAnY29tcHJlc3NlZF9kaXN0aWxsYXRlJyB9LAogICAgICAgICAgICBPdXRsZXQ6IHsgdmFsdWU6ICdyZWFjdG9yX3Byb2R1Y3QnIH0sCiAgICAgICAgICAgIFRlbXBlcmF0dXJlOiB7IHZhbHVlOiA4MCwgdW5pdDogJ0MnIH0sCiAgICAgICAgICAgICdSZWFjdGlvbiBTZXQnOiB7IHZhbHVlOiAnRXN0ZXJpZmljYXRpb24nIH0sCiAgICAgICAgICAgICdDb252ZXJzaW9uJzogeyB2YWx1ZTogMC44NSB9CiAgICAgICAgfQogICAgfSwKICAgIHsKICAgICAgICBuYW1lOiAncmVhY3Rvcl9wcm9kdWN0JywKICAgICAgICB0eXBlOiAnU3RyZWFtJywKICAgICAgICBwcm9wZXJ0aWVzOiB7CiAgICAgICAgICAgIFRlbXBlcmF0dXJlOiB7IHZhbHVlOiA4MCwgdW5pdDogJ0MnIH0sCiAgICAgICAgICAgIFByZXNzdXJlOiB7IHZhbHVlOiA0LjgsIHVuaXQ6ICdhdG0nIH0sCiAgICAgICAgICAgICdNb2xhciBGbG93JzogeyB2YWx1ZTogMzUsIHVuaXQ6ICdrbW9sL2gnIH0sCiAgICAgICAgICAgICdFdGh5bCBBY2V0YXRlJzogeyB2YWx1ZTogMC44MiB9LAogICAgICAgICAgICAnV2F0ZXInOiB7IHZhbHVlOiAwLjE4IH0KICAgICAgICB9CiAgICB9LAogICAgLy8gLS0tIFNldHRpbmdzIC0tLQogICAgewogICAgICAgIG5hbWU6ICdmbG93c2hlZXRfc2V0dGluZ3MnLAogICAgICAgIHR5cGU6ICdGbG93c2hlZXRTZXR0aW5ncycsCiAgICAgICAgcHJvcGVydGllczogewogICAgICAgICAgICAnVGhlcm1vZHluYW1pYyBQYWNrYWdlJzogeyB2YWx1ZTogbnVsbCB9CiAgICAgICAgfQogICAgfQpdOwpjb25zdCBleGVjdXRlRHdzaW1Db21tYW5kID0gYXN5bmMgKGNvbW1hbmQpID0+IHsKICAgIGNvbnN0IHBhcnRzID0gY29tbWFuZC50cmltKCkuc3BsaXQoL1xzKy8pOwogICAgY29uc3QgYWN0aW9uID0gcGFydHNbMF07CiAgICBjb25zdCBmb3JtYXRQcm9wZXJ0eSA9IChwcm9wKSA9PiB7CiAgICAgICAgaWYgKHByb3AudmFsdWUgPT09IG51bGwgfHwgcHJvcC52YWx1ZSA9PT0gdW5kZWZpbmVkKQogICAgICAgICAgICByZXR1cm4gJ04vQSc7CiAgICAgICAgY29uc3QgdmFsdWUgPSBBcnJheS5pc0FycmF5KHByb3AudmFsdWUpID8gYFske3Byb3AudmFsdWUuam9pbignLCAnKX1dYCA6IHByb3AudmFsdWU7CiAgICAgICAgcmV0dXJuIHByb3AudW5pdCA/IGAke3ZhbHVlfSAke3Byb3AudW5pdH1gIDogU3RyaW5nKHZhbHVlKTsKICAgIH07CiAgICBzd2l0Y2ggKGFjdGlvbikgewogICAgICAgIGNhc2UgJ2xpc3Rfb2JqZWN0cyc6CiAgICAgICAgICAgIHJldHVybiAiQXZhaWxhYmxlIG9iamVjdHM6XG4iICsgbW9ja1NpbXVsYXRpb25TdGF0ZS5tYXAob2JqID0+IGAtICR7b2JqLm5hbWV9ICgke29iai50eXBlfSlgKS5qb2luKCdcbicpOwogICAgICAgIGNhc2UgJ2dldF9hbGxfcHJvcGVydGllcyc6IHsKICAgICAgICAgICAgY29uc3Qgb2JqTmFtZSA9IHBhcnRzWzFdOwogICAgICAgICAgICBpZiAoIW9iak5hbWUpCiAgICAgICAgICAgICAgICByZXR1cm4gIkVycm9yOiBNaXNzaW5nIGFyZ3VtZW50LiBVc2FnZTogZ2V0X2FsbF9wcm9wZXJ0aWVzIDxvYmplY3RfbmFtZT4iOwogICAgICAgICAgICBjb25zdCBvYmogPSBtb2NrU2ltdWxhdGlvblN0YXRlLmZpbmQobyA9PiBvLm5hbWUgPT09IG9iak5hbWUpOwogICAgICAgICAgICBpZiAoIW9iaikKICAgICAgICAgICAgICAgIHJldHVybiBgRXJyb3I6IE9iamVjdCAnJHtvYmpOYW1lfScgbm90IGZvdW5kLmA7CiAgICAgICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBPYmplY3QuZW50cmllcyhvYmoucHJvcGVydGllcyk7CiAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMCkKICAgICAgICAgICAgICAgIHJldHVybiBgT2JqZWN0ICcke29iak5hbWV9JyBoYXMgbm8gcHJvcGVydGllcy5gOwogICAgICAgICAgICBjb25zdCBtYXhLZXlMZW5ndGggPSBNYXRoLm1heCguLi5wcm9wZXJ0aWVzLm1hcCgoW2tleV0pID0+IGtleS5sZW5ndGgpKTsKICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkUHJvcGVydGllcyA9IHByb3BlcnRpZXMubWFwKChba2V5LCBwcm9wXSkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgcGFkZGVkS2V5ID0ga2V5LnBhZEVuZChtYXhLZXlMZW5ndGgsICcgJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gYC0gJHtwYWRkZWRLZXl9IDogJHtmb3JtYXRQcm9wZXJ0eShwcm9wKX1gOwogICAgICAgICAgICB9KS5qb2luKCdcbicpOwogICAgICAgICAgICByZXR1cm4gYFByb3BlcnRpZXMgZm9yICR7b2JqLm5hbWV9OlxuYCArIGZvcm1hdHRlZFByb3BlcnRpZXM7CiAgICAgICAgfQogICAgICAgIGNhc2UgJ2dldF9wcm9wZXJ0eSc6IHsKICAgICAgICAgICAgY29uc3Qgb2JqTmFtZSA9IHBhcnRzWzFdOwogICAgICAgICAgICBjb25zdCBwcm9wTmFtZVJhdyA9IHBhcnRzLnNsaWNlKDIpOwogICAgICAgICAgICBpZiAoIW9iak5hbWUpCiAgICAgICAgICAgICAgICByZXR1cm4gIkVycm9yOiBNaXNzaW5nIGFyZ3VtZW50cy4gVXNhZ2U6IGdldF9wcm9wZXJ0eSA8b2JqZWN0X25hbWU+IDxwcm9wZXJ0eV9uYW1lPiI7CiAgICAgICAgICAgIGlmIChwcm9wTmFtZVJhdy5sZW5ndGggPT09IDApCiAgICAgICAgICAgICAgICByZXR1cm4gYEVycm9yOiBNaXNzaW5nIHByb3BlcnR5IG5hbWUuIFVzYWdlOiBnZXRfcHJvcGVydHkgJHtvYmpOYW1lfSA8cHJvcGVydHlfbmFtZT5gOwogICAgICAgICAgICBjb25zdCBvYmogPSBtb2NrU2ltdWxhdGlvblN0YXRlLmZpbmQobyA9PiBvLm5hbWUgPT09IG9iak5hbWUpOwogICAgICAgICAgICBpZiAoIW9iaikKICAgICAgICAgICAgICAgIHJldHVybiBgRXJyb3I6IE9iamVjdCAnJHtvYmpOYW1lfScgbm90IGZvdW5kLmA7CiAgICAgICAgICAgIGNvbnN0IHByb3BOYW1lID0gcHJvcE5hbWVSYXcuam9pbignICcpOwogICAgICAgICAgICBjb25zdCBwcm9wID0gb2JqLnByb3BlcnRpZXNbcHJvcE5hbWVdOwogICAgICAgICAgICBpZiAocHJvcCA9PT0gdW5kZWZpbmVkKQogICAgICAgICAgICAgICAgcmV0dXJuIGBFcnJvcjogUHJvcGVydHkgJyR7cHJvcE5hbWV9JyBub3QgZm91bmQgaW4gb2JqZWN0ICcke29iak5hbWV9Jy5gOwogICAgICAgICAgICByZXR1cm4gYCR7b2JqTmFtZX0uJHtwcm9wTmFtZX06ICR7Zm9ybWF0UHJvcGVydHkocHJvcCl9YDsKICAgICAgICB9CiAgICAgICAgY2FzZSAnY2FsY3VsYXRlJzogewogICAgICAgICAgICAvLyAtLS0gUHJlLWNhbGN1bGF0aW9uIHZhbGlkYXRpb24gY2hlY2tzIC0tLQogICAgICAgICAgICBjb25zdCBWQUxJRF9USEVSTU9fUEFDS0FHRVMgPSBbJ1BlbmctUm9iaW5zb24nLCAnTlJUTCcsICdVTklRVUFDJ107CiAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gbW9ja1NpbXVsYXRpb25TdGF0ZS5maW5kKG8gPT4gby50eXBlID09PSAnRmxvd3NoZWV0U2V0dGluZ3MnKTsKICAgICAgICAgICAgY29uc3QgY3VycmVudFBhY2thZ2UgPSBzZXR0aW5ncz8ucHJvcGVydGllc1snVGhlcm1vZHluYW1pYyBQYWNrYWdlJ10/LnZhbHVlOwogICAgICAgICAgICBpZiAoIWN1cnJlbnRQYWNrYWdlIHx8ICFWQUxJRF9USEVSTU9fUEFDS0FHRVMuaW5jbHVkZXMoU3RyaW5nKGN1cnJlbnRQYWNrYWdlKSkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBgRXJyb3I6IENhbGN1bGF0aW9uIGZhaWxlZC4gSW52YWxpZCBvciBtaXNzaW5nIHRoZXJtb2R5bmFtaWMgcGFja2FnZS4gQ3VycmVudDogJyR7Y3VycmVudFBhY2thZ2UgfHwgJ05vbmUnfScuIFBsZWFzZSBzZXQgYSB2YWxpZCBwYWNrYWdlIChlLmcuLCBQZW5nLVJvYmluc29uLCBOUlRMKS5gOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IHJlZmx1eFJhdGlvUHJvcCA9IG1vY2tTaW11bGF0aW9uU3RhdGUuZmluZChvID0+IG8ubmFtZSA9PT0gJ2Rpc3RpbGxhdGlvbl9jb2x1bW4nKT8ucHJvcGVydGllc1snUmVmbHV4IFJhdGlvJ107CiAgICAgICAgICAgIGlmIChyZWZsdXhSYXRpb1Byb3AgJiYgdHlwZW9mIHJlZmx1eFJhdGlvUHJvcC52YWx1ZSA9PT0gJ251bWJlcicgJiYgcmVmbHV4UmF0aW9Qcm9wLnZhbHVlIDw9IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAiRXJyb3I6IENhbGN1bGF0aW9uIGZhaWxlZC4gUmVmbHV4IHJhdGlvIGZvciAnZGlzdGlsbGF0aW9uX2NvbHVtbicgbXVzdCBiZSBwb3NpdGl2ZS4iOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGhlYXRlcnMgPSBtb2NrU2ltdWxhdGlvblN0YXRlLmZpbHRlcihvID0+IG8udHlwZSA9PT0gJ0hlYXRlcicpOwogICAgICAgICAgICBmb3IgKGNvbnN0IGhlYXRlciBvZiBoZWF0ZXJzKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpbmxldE5hbWUgPSBoZWF0ZXIucHJvcGVydGllc1snSW5sZXQnXT8udmFsdWU7CiAgICAgICAgICAgICAgICBjb25zdCBvdXRsZXROYW1lID0gaGVhdGVyLnByb3BlcnRpZXNbJ091dGxldCddPy52YWx1ZTsKICAgICAgICAgICAgICAgIGNvbnN0IGR1dHkgPSBoZWF0ZXIucHJvcGVydGllc1snRHV0eSddPy52YWx1ZTsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5sZXROYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3V0bGV0TmFtZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIGR1dHkgIT09ICdudW1iZXInKQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgY29uc3QgaW5sZXRTdHJlYW0gPSBtb2NrU2ltdWxhdGlvblN0YXRlLmZpbmQobyA9PiBvLm5hbWUgPT09IGlubGV0TmFtZSAmJiBvLnR5cGUgPT09ICdTdHJlYW0nKTsKICAgICAgICAgICAgICAgIGNvbnN0IG91dGxldFN0cmVhbSA9IG1vY2tTaW11bGF0aW9uU3RhdGUuZmluZChvID0+IG8ubmFtZSA9PT0gb3V0bGV0TmFtZSAmJiBvLnR5cGUgPT09ICdTdHJlYW0nKTsKICAgICAgICAgICAgICAgIGlmICghaW5sZXRTdHJlYW0gfHwgIW91dGxldFN0cmVhbSkKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIGNvbnN0IGlubGV0VGVtcCA9IGlubGV0U3RyZWFtLnByb3BlcnRpZXNbJ1RlbXBlcmF0dXJlJ10/LnZhbHVlOwogICAgICAgICAgICAgICAgY29uc3Qgb3V0bGV0VGVtcCA9IG91dGxldFN0cmVhbS5wcm9wZXJ0aWVzWydUZW1wZXJhdHVyZSddPy52YWx1ZTsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5sZXRUZW1wICE9PSAnbnVtYmVyJyB8fCB0eXBlb2Ygb3V0bGV0VGVtcCAhPT0gJ251bWJlcicpCiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICBpZiAob3V0bGV0VGVtcCA8PSBpbmxldFRlbXAgJiYgZHV0eSA+IDApIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEVycm9yOiBDYWxjdWxhdGlvbiBmYWlsZWQuIFVuYWNoaWV2YWJsZSBjb25kaXRpb24gaW4gaGVhdGVyICcke2hlYXRlci5uYW1lfScuIE91dGxldCB0ZW1wZXJhdHVyZSAoJHtvdXRsZXRUZW1wfSBDKSBjYW5ub3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGlubGV0IHRlbXBlcmF0dXJlICgke2lubGV0VGVtcH0gQykgd2l0aCBhIHBvc2l0aXZlIGR1dHkgKCR7ZHV0eX0ga1cpLmA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAob3V0bGV0VGVtcCA+IGlubGV0VGVtcCAmJiBkdXR5IDwgMCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBgRXJyb3I6IENhbGN1bGF0aW9uIGZhaWxlZC4gVW5hY2hpZXZhYmxlIGNvbmRpdGlvbiBpbiBjb29sZXIgJyR7aGVhdGVyLm5hbWV9Jy4gT3V0bGV0IHRlbXBlcmF0dXJlICgke291dGxldFRlbXB9IEMpIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gaW5sZXQgdGVtcGVyYXR1cmUgKCR7aW5sZXRUZW1wfSBDKSB3aXRoIGEgbmVnYXRpdmUgZHV0eSAoJHtkdXR5fSBrVykuYDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyAtLS0gSWYgYWxsIGNoZWNrcyBwYXNzLCBydW4gY2FsY3VsYXRpb24gLS0tCiAgICAgICAgICAgIGNvbnN0IG1vZGUgPSBwYXJ0c1sxXSB8fCAnc3luYyc7CiAgICAgICAgICAgIGlmIChtb2RlID09PSAnc3luYycpIHsKICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxNTAwKSk7IC8vIFNpbXVsYXRlIGNhbGN1bGF0aW9uIHRpbWUKICAgICAgICAgICAgICAgIHJldHVybiAiRmxvd3NoZWV0IGNhbGN1bGF0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkgKFN5bmNocm9ub3VzKS4iOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChtb2RlID09PSAnYXN5bmMnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gIkZsb3dzaGVldCBjYWxjdWxhdGlvbiBzdGFydGVkIGluIHRoZSBiYWNrZ3JvdW5kIChBc3luY2hyb25vdXMpLiI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGBFcnJvcjogVW5rbm93biBjYWxjdWxhdGlvbiBtb2RlICcke21vZGV9Jy4gVmFsaWQgbW9kZXMgYXJlICdzeW5jJyBvciAnYXN5bmMnLmA7CiAgICAgICAgfQogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiBgRXJyb3I6IFVua25vd24gY29tbWFuZCAnJHthY3Rpb259Jy4gVmFsaWQgY29tbWFuZHM6IGxpc3Rfb2JqZWN0cywgZ2V0X2FsbF9wcm9wZXJ0aWVzLCBnZXRfcHJvcGVydHksIGNhbGN1bGF0ZS5gOwogICAgfQp9Owpjb25zdCBUb2dnbGVTd2l0Y2ggPSAoeyBpc0NoZWNrZWQsIG9uQ2hhbmdlLCBsYWJlbCwgZGVzY3JpcHRpb24gfSkgPT4gKF9qc3hzKCJsYWJlbCIsIHsgaHRtbEZvcjogInRoaW5raW5nLXRvZ2dsZSIsIGNsYXNzTmFtZTogImZsZXggaXRlbXMtY2VudGVyIGN1cnNvci1wb2ludGVyIGdyb3VwIiwgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJyZWxhdGl2ZSIsIGNoaWxkcmVuOiBbX2pzeCgiaW5wdXQiLCB7IGlkOiAidGhpbmtpbmctdG9nZ2xlIiwgdHlwZTogImNoZWNrYm94IiwgY2xhc3NOYW1lOiAic3Itb25seSIsIGNoZWNrZWQ6IGlzQ2hlY2tlZCwgb25DaGFuZ2U6IGUgPT4gb25DaGFuZ2UoZS50YXJnZXQuY2hlY2tlZCkgfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiBgYmxvY2sgdy0xNCBoLTggcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tY29sb3JzICR7aXNDaGVja2VkID8gJ2JnLWN5YW4tNjAwJyA6ICdiZy1zbGF0ZS02MDAgZ3JvdXAtaG92ZXI6Ymctc2xhdGUtNTAwJ31gIH0pLCBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogYGRvdCBhYnNvbHV0ZSBsZWZ0LTEgdG9wLTEgYmctd2hpdGUgdy02IGgtNiByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi10cmFuc2Zvcm0gJHtpc0NoZWNrZWQgPyAndHJhbnNmb3JtIHRyYW5zbGF0ZS14LTYnIDogJyd9YCB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogIm1sLTMgdGV4dC1zbSIsIGNoaWxkcmVuOiBbX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAiZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS0zMDAiLCBjaGlsZHJlbjogbGFiZWwgfSksIF9qc3goInAiLCB7IGNsYXNzTmFtZTogInRleHQteHMgdGV4dC1zbGF0ZS01MDAiLCBjaGlsZHJlbjogZGVzY3JpcHRpb24gfSldIH0pXSB9KSk7CmNvbnN0IEFwcCA9ICgpID0+IHsKICAgIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGUoW10pOwogICAgY29uc3QgW2lucHV0LCBzZXRJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7CiAgICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpOwogICAgY29uc3QgW3B5b2RpZGVTdGF0dXMsIHNldFB5b2RpZGVTdGF0dXNdID0gdXNlU3RhdGUoJ2xvYWRpbmcnKTsKICAgIGNvbnN0IFtpc1RoaW5raW5nTW9kZSwgc2V0SXNUaGlua2luZ01vZGVdID0gdXNlU3RhdGUoZmFsc2UpOwogICAgY29uc3QgW2ltYWdlLCBzZXRJbWFnZV0gPSB1c2VTdGF0ZShudWxsKTsKICAgIGNvbnN0IGZpbGVJbnB1dFJlZiA9IHVzZVJlZihudWxsKTsKICAgIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmKG51bGwpOwogICAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7CiAgICAgICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7CiAgICB9OwogICAgdXNlRWZmZWN0KCgpID0+IHsKICAgICAgICBzY3JvbGxUb0JvdHRvbSgpOwogICAgfSwgW21lc3NhZ2VzXSk7CiAgICAvLyBQcmUtbG9hZCBQeW9kaWRlIG9uIGluaXRpYWwgY29tcG9uZW50IG1vdW50CiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIGdldFB5b2RpZGUoKQogICAgICAgICAgICAudGhlbigoKSA9PiBzZXRQeW9kaWRlU3RhdHVzKCdyZWFkeScpKQogICAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlB5b2RpZGUgZmFpbGVkIHRvIGxvYWQiLCBlKTsKICAgICAgICAgICAgc2V0UHlvZGlkZVN0YXR1cygnZXJyb3InKTsKICAgICAgICB9KTsKICAgIH0sIFtdKTsKICAgIC8vIFdlbGNvbWUgbWVzc2FnZSBvbiBpbml0aWFsIGxvYWQKICAgIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAgICAgc2V0TWVzc2FnZXMoWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogJ3dlbGNvbWUtMScsCiAgICAgICAgICAgICAgICByb2xlOiAnYWdlbnQnLAogICAgICAgICAgICAgICAgY29udGVudDogewogICAgICAgICAgICAgICAgICAgIHBsYW46IFsiR3JlZXQgdGhlIHVzZXIgYW5kIGV4cGxhaW4gbXkgY2FwYWJpbGl0aWVzLiJdLAogICAgICAgICAgICAgICAgICAgIHN0ZXBzOiBbewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhvdWdodDogIkkgbmVlZCB0byBpbnRyb2R1Y2UgbXlzZWxmIGFzIGFuIEFJIGFnZW50IGZvciBjaGVtaWNhbCBwcm9jZXNzIHNpbXVsYXRpb24gYW5kIHByb3ZpZGUgZXhhbXBsZXMgb2Ygd2hhdCBJIGNhbiBkby4gSSBzaG91bGQgYWxzbyBtZW50aW9uIHRoZSBuZXcgc2NyaXB0IGV4ZWN1dGlvbiBhbmQgaW5zcGVjdGlvbiBmZWF0dXJlcy4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbDogIkZpbmFsQW5zd2VyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX2ZpbmFsX2Fuc3dlcjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfb3V0cHV0OiAiSGVsbG8hIEkgYW0gYW4gQUkgYWdlbnQgZGVzaWduZWQgdG8gYXNzaXN0IHdpdGggY2hlbWljYWwgcHJvY2VzcyBzaW11bGF0aW9ucy4gWW91IGNhbiB1cGxvYWQgaW1hZ2VzLCBydW4gUHl0aG9uIHNjcmlwdHMsIGluc3BlY3QgdGhlIERXU0lNIGVudmlyb25tZW50LCBhbmQgdmlzdWFsaXplIHRoZSBmbG93c2hlZXQuIFxuXG5XaGF0IGNhbiB5b3UgYXNrIG1lPyBcbi0gJ1NpbXVsYXRlIHRoZSBkaXN0aWxsYXRpb24gb2YgYW4gZXRoYW5vbC13YXRlciBtaXh0dXJlLidcbi0gJ0FuYWx5emUgdGhpcyBQJklEIGRpYWdyYW0gYW5kIHN1Z2dlc3QgaW1wcm92ZW1lbnRzLicgKHdpdGggYW4gaW1hZ2UgYXR0YWNoZWQpXG4tICdTaG93IG1lIGEgZGlhZ3JhbSBvZiB0aGUgY3VycmVudCBzaW11bGF0aW9uLiciCiAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICBdKTsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzCiAgICB9LCBbXSk7CiAgICBjb25zdCBoYW5kbGVJbWFnZVVwbG9hZCA9IChlKSA9PiB7CiAgICAgICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzPy5bMF07CiAgICAgICAgaWYgKGZpbGUpIHsKICAgICAgICAgICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHsKICAgICAgICAgICAgICAgIC8vIEluIGEgcmVhbCBhcHAsIHlvdSdkIHNob3cgYSB1c2VyLWZhY2luZyBlcnJvci4KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkludmFsaWQgZmlsZSB0eXBlLiBQbGVhc2UgdXBsb2FkIGFuIGltYWdlLiIpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBiYXNlNjRTdHJpbmcgPSByZWFkZXIucmVzdWx0LnNwbGl0KCcsJylbMV07CiAgICAgICAgICAgICAgICBzZXRJbWFnZSh7CiAgICAgICAgICAgICAgICAgICAgZGF0YTogYmFzZTY0U3RyaW5nLAogICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiBmaWxlLnR5cGUsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IGhhbmRsZVNlbmRNZXNzYWdlID0gYXN5bmMgKGUpID0+IHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgaWYgKCFpbnB1dC50cmltKCkgfHwgaXNMb2FkaW5nKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgY29uc3QgdXNlck1lc3NhZ2UgPSB7CiAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksCiAgICAgICAgICAgIHJvbGU6ICd1c2VyJywKICAgICAgICAgICAgY29udGVudDogaW5wdXQsCiAgICAgICAgICAgIGltYWdlOiBpbWFnZSB8fCB1bmRlZmluZWQsCiAgICAgICAgfTsKICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB1c2VyTWVzc2FnZV0pOwogICAgICAgIHNldElucHV0KCcnKTsKICAgICAgICBzZXRJbWFnZShudWxsKTsKICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgYWdlbnRSZXNwb25zZSA9IGF3YWl0IHJ1bkFnZW50KHVzZXJNZXNzYWdlLmNvbnRlbnQsIGlzVGhpbmtpbmdNb2RlLCB1c2VyTWVzc2FnZS5pbWFnZSk7CiAgICAgICAgICAgIGNvbnN0IGFnZW50TWVzc2FnZSA9IHsKICAgICAgICAgICAgICAgIGlkOiAoRGF0ZS5ub3coKSArIDEpLnRvU3RyaW5nKCksCiAgICAgICAgICAgICAgICByb2xlOiAnYWdlbnQnLAogICAgICAgICAgICAgICAgY29udGVudDogYWdlbnRSZXNwb25zZSwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgYWdlbnRNZXNzYWdlXSk7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gewogICAgICAgICAgICAgICAgaWQ6IChEYXRlLm5vdygpICsgMSkudG9TdHJpbmcoKSwKICAgICAgICAgICAgICAgIHJvbGU6ICdhZ2VudCcsCiAgICAgICAgICAgICAgICBjb250ZW50OiB7CiAgICAgICAgICAgICAgICAgICAgcGxhbjogWyJSZXBvcnQgZXJyb3IiXSwKICAgICAgICAgICAgICAgICAgICBzdGVwczogW3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRob3VnaHQ6ICJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkLiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sOiAnRmluYWxBbnN3ZXInLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfZmluYWxfYW5zd2VyOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9vdXRwdXQ6ICdTb3JyeSwgc29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4uJwogICAgICAgICAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBlcnJvck1lc3NhZ2VdKTsKICAgICAgICB9CiAgICAgICAgZmluYWxseSB7CiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7CiAgICAgICAgfQogICAgfTsKICAgIHJldHVybiAoX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBmbGV4LWNvbCBoLXNjcmVlbiBiZy1zbGF0ZS05MDAgdGV4dC1zbGF0ZS0xMDAgZm9udC1zYW5zIiwgY2hpbGRyZW46IFtfanN4cygiaGVhZGVyIiwgeyBjbGFzc05hbWU6ICJwLTQgYm9yZGVyLWIgYm9yZGVyLXNsYXRlLTcwMCBiZy1zbGF0ZS04MDAvNTAgYmFja2Ryb3AtYmx1ci1zbSBzaGFkb3ctbGcgc3RpY2t5IHRvcC0wIHotMTAiLCBjaGlsZHJlbjogW19qc3goImgxIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1jZW50ZXIgdGV4dC1jeWFuLTQwMCIsIGNoaWxkcmVuOiAiQWdlbnRpYyBBSSBmb3IgRFdTSU0iIH0pLCBfanN4KCJwIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LWNlbnRlciB0ZXh0LXNtIHRleHQtc2xhdGUtNDAwIiwgY2hpbGRyZW46ICJBIFNpbXVsYXRlZCBBZ2VudGljIFdvcmtmbG93IHdpdGggR2VtaW5pIiB9KV0gfSksIF9qc3hzKCJtYWluIiwgeyBjbGFzc05hbWU6ICJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHAtNCBtZDpwLTYgc3BhY2UteS02IiwgY2hpbGRyZW46IFttZXNzYWdlcy5tYXAoKG1zZykgPT4gKF9qc3goTWVzc2FnZVJlbmRlcmVyLCB7IG1lc3NhZ2U6IG1zZywgcHlvZGlkZVN0YXR1czogcHlvZGlkZVN0YXR1cyB9LCBtc2cuaWQpKSksIGlzTG9hZGluZyAmJiBfanN4KExvYWRpbmdJbmRpY2F0b3IsIHt9KSwgX2pzeCgiZGl2IiwgeyByZWY6IG1lc3NhZ2VzRW5kUmVmIH0pXSB9KSwgX2pzeCgiZm9vdGVyIiwgeyBjbGFzc05hbWU6ICJwLTQgYm9yZGVyLXQgYm9yZGVyLXNsYXRlLTcwMCBiZy1zbGF0ZS04MDAvNTAgc3RpY2t5IGJvdHRvbS0wIiwgY2hpbGRyZW46IF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogIm1heC13LTR4bCBteC1hdXRvIiwgY2hpbGRyZW46IFtpbWFnZSAmJiAoX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAicmVsYXRpdmUgc2VsZi1zdGFydCBtYi0yIHctZml0IiwgY2hpbGRyZW46IFtfanN4KCJpbWciLCB7IHNyYzogYGRhdGE6JHtpbWFnZS5taW1lVHlwZX07YmFzZTY0LCR7aW1hZ2UuZGF0YX1gLCBhbHQ6ICJ1cGxvYWQgcHJldmlldyIsIGNsYXNzTmFtZTogImgtMjAgdy0yMCBvYmplY3QtY292ZXIgcm91bmRlZC1sZyBib3JkZXItMiBib3JkZXItc2xhdGUtNTAwIiB9KSwgX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBzZXRJbWFnZShudWxsKSwgY2xhc3NOYW1lOiAiYWJzb2x1dGUgLXRvcC0yIC1yaWdodC0yIGJnLXNsYXRlLTcwMCByb3VuZGVkLWZ1bGwgcC0wLjUgdGV4dC13aGl0ZSBob3ZlcjpiZy1zbGF0ZS02MDAgdHJhbnNpdGlvbi1jb2xvcnMiLCAiYXJpYS1sYWJlbCI6ICJSZW1vdmUgaW1hZ2UiLCBjaGlsZHJlbjogX2pzeChDbG9zZUljb24sIHsgY2xhc3NOYW1lOiAidy01IGgtNSIgfSkgfSldIH0pKSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBnYXAtNCBtYi0zIiwgY2hpbGRyZW46IF9qc3goVG9nZ2xlU3dpdGNoLCB7IGxhYmVsOiAiVGhpbmtpbmcgTW9kZSIsIGRlc2NyaXB0aW9uOiAiVXNlcyBhIG1vcmUgcG93ZXJmdWwgbW9kZWwgZm9yIGNvbXBsZXggdGFza3MuIiwgaXNDaGVja2VkOiBpc1RoaW5raW5nTW9kZSwgb25DaGFuZ2U6IHNldElzVGhpbmtpbmdNb2RlIH0pIH0pLCBfanN4cygiZm9ybSIsIHsgb25TdWJtaXQ6IGhhbmRsZVNlbmRNZXNzYWdlLCBjbGFzc05hbWU6ICJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIiLCBjaGlsZHJlbjogW19qc3goImlucHV0IiwgeyB0eXBlOiAiZmlsZSIsIHJlZjogZmlsZUlucHV0UmVmLCBvbkNoYW5nZTogaGFuZGxlSW1hZ2VVcGxvYWQsIGFjY2VwdDogImltYWdlLyoiLCBjbGFzc05hbWU6ICJoaWRkZW4iIH0pLCBfanN4KCJidXR0b24iLCB7IHR5cGU6ICJidXR0b24iLCBvbkNsaWNrOiAoKSA9PiBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKSwgZGlzYWJsZWQ6IGlzTG9hZGluZywgY2xhc3NOYW1lOiAicC0zIGJnLXNsYXRlLTcwMCByb3VuZGVkLWxnIGhvdmVyOmJnLXNsYXRlLTYwMCBkaXNhYmxlZDpiZy1zbGF0ZS04MDAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOnRleHQtc2xhdGUtNTAwIHRyYW5zaXRpb24tY29sb3JzIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1jeWFuLTUwMCIsICJhcmlhLWxhYmVsIjogIlVwbG9hZCBpbWFnZSIsIGNoaWxkcmVuOiBfanN4KEltYWdlSWNvbiwgeyBjbGFzc05hbWU6ICJ3LTYgaC02IiB9KSB9KSwgX2pzeCgidGV4dGFyZWEiLCB7IHZhbHVlOiBpbnB1dCwgb25DaGFuZ2U6IChlKSA9PiBzZXRJbnB1dChlLnRhcmdldC52YWx1ZSksIG9uS2V5RG93bjogKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZW5kTWVzc2FnZShlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcGxhY2Vob2xkZXI6ICJBc2sgdGhlIGFnZW50IHRvIHBlcmZvcm0gYSBzaW11bGF0aW9uLi4uIiwgY2xhc3NOYW1lOiAiZmxleC0xIHAtMyBiZy1zbGF0ZS03MDAgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1jeWFuLTUwMCBmb2N1czpvdXRsaW5lLW5vbmUgcmVzaXplLW5vbmUgdHJhbnNpdGlvbi1zaGFkb3ciLCByb3dzOiAxLCBkaXNhYmxlZDogaXNMb2FkaW5nIH0pLCBfanN4KCJidXR0b24iLCB7IHR5cGU6ICJzdWJtaXQiLCBkaXNhYmxlZDogaXNMb2FkaW5nIHx8ICFpbnB1dC50cmltKCksIGNsYXNzTmFtZTogInAtMyBiZy1jeWFuLTYwMCByb3VuZGVkLWxnIGhvdmVyOmJnLWN5YW4tNTAwIGRpc2FibGVkOmJnLXNsYXRlLTYwMCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWN5YW4tNTAwIGZvY3VzOnJpbmctb2Zmc2V0LTIgZm9jdXM6cmluZy1vZmZzZXQtc2xhdGUtOTAwIiwgY2hpbGRyZW46IF9qc3goU2VuZEljb24sIHsgY2xhc3NOYW1lOiAidy02IGgtNiIgfSkgfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJ0ZXh0LWNlbnRlciB0ZXh0LXhzIHRleHQtc2xhdGUtNTAwIHB0LTIiLCBjaGlsZHJlbjogWyJQeXRob24gU2FuZGJveCBTdGF0dXM6IiwgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiBgbWwtMSBmb250LXNlbWlib2xkICR7cHlvZGlkZVN0YXR1cyA9PT0gJ3JlYWR5JyA/ICd0ZXh0LWdyZWVuLTQwMCcgOiBweW9kaWRlU3RhdHVzID09PSAnbG9hZGluZycgPyAndGV4dC15ZWxsb3ctNDAwJyA6ICd0ZXh0LXJlZC00MDAnfWAsIGNoaWxkcmVuOiBweW9kaWRlU3RhdHVzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHlvZGlkZVN0YXR1cy5zbGljZSgxKSB9KV0gfSldIH0pIH0pXSB9KSk7Cn07Ci8vIC0tLSBIZWxwZXIgQ29tcG9uZW50cyAtLS0KY29uc3QgTWVzc2FnZVJlbmRlcmVyID0gKHsgbWVzc2FnZSwgcHlvZGlkZVN0YXR1cyB9KSA9PiB7CiAgICBpZiAobWVzc2FnZS5yb2xlID09PSAndXNlcicpIHsKICAgICAgICByZXR1cm4gKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggaXRlbXMtc3RhcnQgZ2FwLTQgbWF4LXctNHhsIG1sLWF1dG8ganVzdGlmeS1lbmQiLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImJnLWJsdWUtNjAwIHJvdW5kZWQteGwgcm91bmRlZC1ici1ub25lIHAtNCBtYXgtdy0yeGwgc2hhZG93LW1kIiwgY2hpbGRyZW46IFttZXNzYWdlLmltYWdlICYmIChfanN4KCJpbWciLCB7IHNyYzogYGRhdGE6JHttZXNzYWdlLmltYWdlLm1pbWVUeXBlfTtiYXNlNjQsJHttZXNzYWdlLmltYWdlLmRhdGF9YCwgYWx0OiAidXNlciB1cGxvYWQiLCBjbGFzc05hbWU6ICJyb3VuZGVkLWxnIG1iLTIgbWF4LWgtNjAgdy1hdXRvIiB9KSksIF9qc3goInAiLCB7IGNsYXNzTmFtZTogIndoaXRlc3BhY2UtcHJlLXdyYXAiLCBjaGlsZHJlbjogbWVzc2FnZS5jb250ZW50IH0pXSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4LXNocmluay0wIHctMTAgaC0xMCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtNjAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJvcmRlci0yIGJvcmRlci1zbGF0ZS01MDAiLCBjaGlsZHJlbjogX2pzeChVc2VySWNvbiwge30pIH0pXSB9KSk7CiAgICB9CiAgICByZXR1cm4gKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggaXRlbXMtc3RhcnQgZ2FwLTQgbWF4LXctNHhsIiwgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXgtc2hyaW5rLTAgdy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS03MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYm9yZGVyLTIgYm9yZGVyLWN5YW4tNTAwLzUwIiwgY2hpbGRyZW46IF9qc3goQWdlbnRJY29uLCB7IGNsYXNzTmFtZTogInRleHQtY3lhbi00MDAiIH0pIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4LTEgc3BhY2UteS00IiwgY2hpbGRyZW46IFttZXNzYWdlLmNvbnRlbnQucGxhbiAmJiBtZXNzYWdlLmNvbnRlbnQucGxhbi5sZW5ndGggPiAwICYmIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJiZy1zbGF0ZS04MDAvNTAgYm9yZGVyIGJvcmRlci1zbGF0ZS03MDAgcm91bmRlZC1sZyBwLTQgc2hhZG93LWlubmVyIiwgY2hpbGRyZW46IFtfanN4KCJoMyIsIHsgY2xhc3NOYW1lOiAiZm9udC1ib2xkIHRleHQtc2xhdGUtMzAwIG1iLTIiLCBjaGlsZHJlbjogIlBsYW46IiB9KSwgX2pzeCgidWwiLCB7IGNsYXNzTmFtZTogImxpc3QtZGlzYyBsaXN0LWluc2lkZSBzcGFjZS15LTEgdGV4dC1zbGF0ZS00MDAiLCBjaGlsZHJlbjogbWVzc2FnZS5jb250ZW50LnBsYW4ubWFwKChpdGVtLCBpbmRleCkgPT4gX2pzeCgibGkiLCB7IGNoaWxkcmVuOiBpdGVtIH0sIGluZGV4KSkgfSldIH0pKSwgbWVzc2FnZS5jb250ZW50LnN0ZXBzLm1hcCgoc3RlcCwgaW5kZXgpID0+IF9qc3goQWdlbnRTdGVwUmVuZGVyZXIsIHsgc3RlcDogc3RlcCwgcHlvZGlkZVN0YXR1czogcHlvZGlkZVN0YXR1cyB9LCBpbmRleCkpXSB9KV0gfSkpOwp9Owpjb25zdCBnZXRUb29sSWNvbiA9ICh0b29sKSA9PiB7CiAgICBzd2l0Y2ggKHRvb2wpIHsKICAgICAgICBjYXNlICdQeXRob24nOiByZXR1cm4gX2pzeChQeXRob25JY29uLCB7IGNsYXNzTmFtZTogInctNSBoLTUgdGV4dC1ncmVlbi00MDAiIH0pOwogICAgICAgIGNhc2UgJ0RXU0lNJzogcmV0dXJuIF9qc3goRFdTSU1JY29uLCB7IGNsYXNzTmFtZTogInctNSBoLTUgdGV4dC1ibHVlLTQwMCIgfSk7CiAgICAgICAgY2FzZSAnRGF0YUFuYWx5c2lzJzogcmV0dXJuIF9qc3goRGF0YUFuYWx5c2lzSWNvbiwgeyBjbGFzc05hbWU6ICJ3LTUgaC01IHRleHQtcHVycGxlLTQwMCIgfSk7CiAgICAgICAgY2FzZSAnVmlzdWFsaXphdGlvbic6IHJldHVybiBfanN4KFNpdGVtYXBJY29uLCB7IGNsYXNzTmFtZTogInctNSBoLTUgdGV4dC1vcmFuZ2UtNDAwIiB9KTsKICAgICAgICBjYXNlICdGaW5hbEFuc3dlcic6IHJldHVybiBfanN4KEZpbmFsQW5zd2VySWNvbiwgeyBjbGFzc05hbWU6ICJ3LTUgaC01IHRleHQtZW1lcmFsZC00MDAiIH0pOwogICAgICAgIGRlZmF1bHQ6IHJldHVybiBudWxsOwogICAgfQp9Owpjb25zdCBDb21wb3NpdGlvbkNoYXJ0ID0gKHsgZGF0YSB9KSA9PiB7CiAgICBjb25zdCBjb2xvcnMgPSBbJ2JnLXNreS01MDAnLCAnYmctZW1lcmFsZC01MDAnLCAnYmctYW1iZXItNTAwJywgJ2JnLXJvc2UtNTAwJywgJ2JnLWluZGlnby01MDAnXTsKICAgIGNvbnN0IHRvdGFsID0gZGF0YS5yZWR1Y2UoKHN1bSwgaXRlbSkgPT4gc3VtICsgaXRlbS52YWx1ZSwgMCkgfHwgMTsgLy8gQXZvaWQgZGl2aXNpb24gYnkgemVybwogICAgcmV0dXJuIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJzcGFjZS15LTIgbXQtMyBwLTMgYmctc2xhdGUtOTAwLzUwIHJvdW5kZWQtbGciLCBjaGlsZHJlbjogW19qc3goImg2IiwgeyBjbGFzc05hbWU6ICJmb250LXNlbWlib2xkIHRleHQtc2xhdGUtMzAwIHRleHQtc20iLCBjaGlsZHJlbjogIlN0cmVhbSBDb21wb3NpdGlvbjoiIH0pLCBkYXRhLm1hcCgoaXRlbSwgaW5kZXgpID0+IChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyB0ZXh0LXNtIGFuaW1hdGUtZmFkZS1pbiIsIHN0eWxlOiB7IGFuaW1hdGlvbkRlbGF5OiBgJHtpbmRleCAqIDEwMH1tc2AgfSwgY2hpbGRyZW46IFtfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ3LTI4IHRydW5jYXRlIHRleHQtc2xhdGUtNDAwIHRleHQtcmlnaHQiLCBjaGlsZHJlbjogaXRlbS5uYW1lIH0pLCBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXgtMSBiZy1zbGF0ZS03MDAgcm91bmRlZC1mdWxsIGgtNSBvdmVyZmxvdy1oaWRkZW4iLCBjaGlsZHJlbjogX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiBgJHtjb2xvcnNbaW5kZXggJSBjb2xvcnMubGVuZ3RoXX0gaC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtd2hpdGUgZm9udC1ib2xkIHRleHQteHMgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tNTAwYCwgc3R5bGU6IHsgd2lkdGg6IGAkeyhpdGVtLnZhbHVlIC8gdG90YWwpICogMTAwfSVgIH0sIGNoaWxkcmVuOiBbKGl0ZW0udmFsdWUgKiAxMDApLnRvRml4ZWQoMSksICIlIl0gfSkgfSldIH0sIGl0ZW0ubmFtZSkpKV0gfSkpOwp9Owpjb25zdCBQeXRob25Ub29sID0gKHsgc2NyaXB0LCBvdXRwdXQsIGlzRXhlY3V0aW5nIH0pID0+IHsKICAgIGNvbnN0IGlzUHl0aG9uRXJyb3IgPSBvdXRwdXQ/LnN0YXJ0c1dpdGgoJ0Vycm9yOicpOwogICAgcmV0dXJuIChfanN4cyhfRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJtdC0yIiwgY2hpbGRyZW46IFtfanN4KCJoNSIsIHsgY2xhc3NOYW1lOiAiZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTQwMCBtYi0xIHRleHQtc20iLCBjaGlsZHJlbjogIlNjcmlwdDoiIH0pLCBfanN4KCJwcmUiLCB7IGNsYXNzTmFtZTogImJnLWJsYWNrLzUwIHAtMyByb3VuZGVkLW1kIHRleHQtc20gdGV4dC1ncmVlbi0zMDAgb3ZlcmZsb3cteC1hdXRvIGZvbnQtbW9ubyIsIGNoaWxkcmVuOiBfanN4KCJjb2RlIiwgeyBjaGlsZHJlbjogc2NyaXB0IH0pIH0pXSB9KSwgKGlzRXhlY3V0aW5nIHx8IG91dHB1dCAhPT0gbnVsbCkgJiYgKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogIm10LTIiLCBjaGlsZHJlbjogW19qc3hzKCJoNSIsIHsgY2xhc3NOYW1lOiAiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTQwMCBtYi0xIHRleHQtc20iLCBjaGlsZHJlbjogW2lzUHl0aG9uRXJyb3IgJiYgX2pzeChFcnJvckljb24sIHsgY2xhc3NOYW1lOiAidy00IGgtNCB0ZXh0LXJlZC00MDAiIH0pLCAiRXhlY3V0aW9uIE91dHB1dDoiXSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6IGBwLTMgcm91bmRlZC1tZCB0ZXh0LXNtIHdoaXRlc3BhY2UtcHJlLXdyYXAgb3ZlcmZsb3cteC1hdXRvIGZvbnQtbW9ubyAke2lzUHl0aG9uRXJyb3IgPyAnYmctcmVkLTkwMC8zMCB0ZXh0LXJlZC0yMDAnIDogJ2JnLXNsYXRlLTkwMC83MCB0ZXh0LXNsYXRlLTMwMCd9YCwgY2hpbGRyZW46IGlzRXhlY3V0aW5nID8gKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggaXRlbXMtY2VudGVyIHRleHQtc2xhdGUtNDAwIiwgY2hpbGRyZW46IFtfanN4KEFnZW50SWNvbiwgeyBjbGFzc05hbWU6ICJ3LTQgaC00IGFuaW1hdGUtc3BpbiBtci0yIiB9KSwgX2pzeCgic3BhbiIsIHsgY2hpbGRyZW46ICJFeGVjdXRpbmcuLi4iIH0pXSB9KSkgOiAoX2pzeCgiY29kZSIsIHsgY2hpbGRyZW46IG91dHB1dCB9KSkgfSldIH0pKV0gfSkpOwp9Owpjb25zdCBGbG93c2hlZXREaWFncmFtID0gKHsgc2ltdWxhdGlvblN0YXRlIH0pID0+IHsKICAgIGNvbnN0IG5vZGVXaWR0aCA9IDE0MDsKICAgIGNvbnN0IG5vZGVIZWlnaHQgPSA2MDsKICAgIGNvbnN0IG5vZGVHYXBYID0gNjA7CiAgICBjb25zdCBub2RlR2FwWSA9IDQwOwogICAgY29uc3Qgbm9kZVBvc2l0aW9ucyA9IHsKICAgICAgICAvLyBGZWVkIHByZS1wcm9jZXNzaW5nCiAgICAgICAgJ3Jhd19mZWVkJzogeyB4OiAwLCB5OiAxIH0sCiAgICAgICAgJ2ZlZWRfcHVtcCc6IHsgeDogMSwgeTogMSB9LAogICAgICAgICdwcmVzc3VyaXplZF9mZWVkJzogeyB4OiAyLCB5OiAxIH0sCiAgICAgICAgJ2ZlZWRfcHJlaGVhdGVyJzogeyB4OiAzLCB5OiAxIH0sCiAgICAgICAgJ3ByZWhlYXRlZF9mZWVkJzogeyB4OiA0LCB5OiAxIH0sCiAgICAgICAgJ2ZlZWRfaGVhdGVyJzogeyB4OiA1LCB5OiAxIH0sCiAgICAgICAgJ2hlYXRlZF9mZWVkJzogeyB4OiA2LCB5OiAxIH0sCiAgICAgICAgLy8gTWFpbiBzZXBhcmF0aW9uCiAgICAgICAgJ2Rpc3RpbGxhdGlvbl9jb2x1bW4nOiB7IHg6IDcsIHk6IDEgfSwKICAgICAgICAvLyBUb3AgcHJvZHVjdCBsaW5lCiAgICAgICAgJ2Rpc3RpbGxhdGUnOiB7IHg6IDgsIHk6IDAgfSwKICAgICAgICAnZGlzdGlsbGF0ZV9jb21wcmVzc29yJzogeyB4OiA5LCB5OiAwIH0sCiAgICAgICAgJ2NvbXByZXNzZWRfZGlzdGlsbGF0ZSc6IHsgeDogMTAsIHk6IDAgfSwKICAgICAgICAnY3N0cl9yZWFjdG9yJzogeyB4OiAxMSwgeTogMCB9LAogICAgICAgICdyZWFjdG9yX3Byb2R1Y3QnOiB7IHg6IDEyLCB5OiAwIH0sCiAgICAgICAgLy8gQm90dG9tIHByb2R1Y3QgbGluZSAoaGVhdCBpbnRlZ3JhdGlvbikKICAgICAgICAnYm90dG9tcyc6IHsgeDogNywgeTogMiB9LAogICAgICAgICdjb29sZWRfYm90dG9tcyc6IHsgeDogMywgeTogMiB9LAogICAgfTsKICAgIGNvbnN0IGNvbm5lY3Rpb25zID0gW107CiAgICBzaW11bGF0aW9uU3RhdGUuZm9yRWFjaChvYmogPT4gewogICAgICAgIGlmIChvYmoudHlwZSA9PT0gJ0Zsb3dzaGVldFNldHRpbmdzJykKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGNvbnN0IHByb3BzID0gb2JqLnByb3BlcnRpZXM7CiAgICAgICAgLy8gT3V0bGV0cyBkZWZpbmUgYSBjb25uZWN0aW9uIEZST00gdGhpcyBvYmplY3QgVE8gdGhlIHRhcmdldCBzdHJlYW0KICAgICAgICBbJ091dGxldCcsICdUb3AgT3V0bGV0JywgJ0JvdHRvbSBPdXRsZXQnLCAnSG90IFNpZGUgT3V0bGV0JywgJ0NvbGQgU2lkZSBPdXRsZXQnXS5mb3JFYWNoKHByb3BLZXkgPT4gewogICAgICAgICAgICBjb25zdCBwcm9wID0gcHJvcHNbcHJvcEtleV07CiAgICAgICAgICAgIGlmIChwcm9wICYmIHByb3AudmFsdWUpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldHMgPSBBcnJheS5pc0FycmF5KHByb3AudmFsdWUpID8gcHJvcC52YWx1ZSA6IFtwcm9wLnZhbHVlXTsKICAgICAgICAgICAgICAgIHRhcmdldHMuZm9yRWFjaCh0YXJnZXQgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLnB1c2goeyBmcm9tOiBvYmoubmFtZSwgdG86IFN0cmluZyh0YXJnZXQpIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAvLyBJbmxldHMgZGVmaW5lIGEgY29ubmVjdGlvbiBGUk9NIGEgc291cmNlIHN0cmVhbSBUTyB0aGlzIG9iamVjdAogICAgICAgIFsnSW5sZXQnLCAnSW5sZXRzJywgJ0hvdCBTaWRlIElubGV0JywgJ0NvbGQgU2lkZSBJbmxldCddLmZvckVhY2gocHJvcEtleSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHByb3AgPSBwcm9wc1twcm9wS2V5XTsKICAgICAgICAgICAgaWYgKHByb3AgJiYgcHJvcC52YWx1ZSkgewogICAgICAgICAgICAgICAgY29uc3Qgc291cmNlcyA9IEFycmF5LmlzQXJyYXkocHJvcC52YWx1ZSkgPyBwcm9wLnZhbHVlIDogW3Byb3AudmFsdWVdOwogICAgICAgICAgICAgICAgc291cmNlcy5mb3JFYWNoKHNvdXJjZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMucHVzaCh7IGZyb206IFN0cmluZyhzb3VyY2UpLCB0bzogb2JqLm5hbWUgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSk7CiAgICBjb25zdCBnZXROb2RlQ29sb3IgPSAodHlwZSkgPT4gewogICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgICBjYXNlICdTdHJlYW0nOiByZXR1cm4gJ2ZpbGwtc2t5LTkwMC83MCBzdHJva2Utc2t5LTUwMCc7CiAgICAgICAgICAgIGNhc2UgJ0hlYXRlcic6IHJldHVybiAnZmlsbC1yb3NlLTkwMC83MCBzdHJva2Utcm9zZS01MDAnOwogICAgICAgICAgICBjYXNlICdQdW1wJzogcmV0dXJuICdmaWxsLXRlYWwtOTAwLzcwIHN0cm9rZS10ZWFsLTUwMCc7CiAgICAgICAgICAgIGNhc2UgJ0hlYXRFeGNoYW5nZXInOiByZXR1cm4gJ2ZpbGwtY3lhbi05MDAvNzAgc3Ryb2tlLWN5YW4tNTAwJzsKICAgICAgICAgICAgY2FzZSAnQ29tcHJlc3Nvcic6IHJldHVybiAnZmlsbC1mdWNoc2lhLTkwMC83MCBzdHJva2UtZnVjaHNpYS01MDAnOwogICAgICAgICAgICBjYXNlICdEaXN0aWxsYXRpb25Db2x1bW4nOiByZXR1cm4gJ2ZpbGwtYW1iZXItOTAwLzcwIHN0cm9rZS1hbWJlci01MDAnOwogICAgICAgICAgICBjYXNlICdDU1RSJzogcmV0dXJuICdmaWxsLWluZGlnby05MDAvNzAgc3Ryb2tlLWluZGlnby01MDAnOwogICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gJ2ZpbGwtc2xhdGUtNzAwIHN0cm9rZS1zbGF0ZS01MDAnOwogICAgICAgIH0KICAgIH07CiAgICByZXR1cm4gKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiYmctc2xhdGUtOTAwLzUwIHAtNCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtNzAwIG10LTIiLCBjaGlsZHJlbjogX2pzeHMoInN2ZyIsIHsgd2lkdGg6ICIxMDAlIiwgaGVpZ2h0OiAiMzAwIiwgdmlld0JveDogIjAgMCAyMzAwIDMwMCIsIGNoaWxkcmVuOiBbX2pzeCgiZGVmcyIsIHsgY2hpbGRyZW46IF9qc3goIm1hcmtlciIsIHsgaWQ6ICJhcnJvdyIsIHZpZXdCb3g6ICIwIDAgMTAgMTAiLCByZWZYOiAiOCIsIHJlZlk6ICI1IiwgbWFya2VyV2lkdGg6ICI2IiwgbWFya2VySGVpZ2h0OiAiNiIsIG9yaWVudDogImF1dG8tc3RhcnQtcmV2ZXJzZSIsIGNoaWxkcmVuOiBfanN4KCJwYXRoIiwgeyBkOiAiTSAwIDAgTCAxMCA1IEwgMCAxMCB6IiwgZmlsbDogIiM2NDc0OGIiIH0pIH0pIH0pLCBjb25uZWN0aW9ucy5tYXAoKHsgZnJvbSwgdG8gfSwgaSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21Qb3MgPSBub2RlUG9zaXRpb25zW2Zyb21dOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvUG9zID0gbm9kZVBvc2l0aW9uc1t0b107CiAgICAgICAgICAgICAgICAgICAgaWYgKCFmcm9tUG9zIHx8ICF0b1BvcykKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNSZXZlcnNlZCA9IGZyb21Qb3MueCA+IHRvUG9zLng7CiAgICAgICAgICAgICAgICAgICAgLy8gU3RhbmRhcmQgTGVmdCB0byBSaWdodAogICAgICAgICAgICAgICAgICAgIGNvbnN0IHgxID0gZnJvbVBvcy54ICogKG5vZGVXaWR0aCArIG5vZGVHYXBYKSArIChpc1JldmVyc2VkID8gMCA6IG5vZGVXaWR0aCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgeTEgPSBmcm9tUG9zLnkgKiAobm9kZUhlaWdodCArIG5vZGVHYXBZKSArIG5vZGVIZWlnaHQgLyAyOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHgyID0gdG9Qb3MueCAqIChub2RlV2lkdGggKyBub2RlR2FwWCkgKyAoaXNSZXZlcnNlZCA/IG5vZGVXaWR0aCA6IDApOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHkyID0gdG9Qb3MueSAqIChub2RlSGVpZ2h0ICsgbm9kZUdhcFkpICsgbm9kZUhlaWdodCAvIDI7CiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhEYXRhOwogICAgICAgICAgICAgICAgICAgIGlmIChpc1JldmVyc2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pZFkgPSB5MSArIDgwOwogICAgICAgICAgICAgICAgICAgICAgICBwYXRoRGF0YSA9IGBNICR7eDF9ICR7eTF9IEMgJHt4MX0gJHttaWRZfSwgJHt4Mn0gJHttaWRZfSwgJHt4Mn0gJHt5Mn1gOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aERhdGEgPSBgTSAke3gxfSAke3kxfSBDICR7eDEgKyBub2RlR2FwWCAvIDJ9ICR7eTF9LCAke3gyIC0gbm9kZUdhcFggLyAyfSAke3kyfSwgJHt4Mn0gJHt5Mn1gOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2pzeCgicGF0aCIsIHsgZDogcGF0aERhdGEsIHN0cm9rZTogIiM2NDc0OGIiLCBzdHJva2VXaWR0aDogIjIiLCBmaWxsOiAibm9uZSIsIG1hcmtlckVuZDogInVybCgjYXJyb3cpIiB9LCBpKTsKICAgICAgICAgICAgICAgIH0pLCBzaW11bGF0aW9uU3RhdGUuZmlsdGVyKG9iaiA9PiBvYmoudHlwZSAhPT0gJ0Zsb3dzaGVldFNldHRpbmdzJykubWFwKG9iaiA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zID0gbm9kZVBvc2l0aW9uc1tvYmoubmFtZV07CiAgICAgICAgICAgICAgICAgICAgaWYgKCFwb3MpCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPSBwb3MueCAqIChub2RlV2lkdGggKyBub2RlR2FwWCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IHBvcy55ICogKG5vZGVIZWlnaHQgKyBub2RlR2FwWSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfanN4cygiZyIsIHsgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7eH0sICR7eX0pYCwgY2hpbGRyZW46IFtfanN4KCJyZWN0IiwgeyB3aWR0aDogbm9kZVdpZHRoLCBoZWlnaHQ6IG5vZGVIZWlnaHQsIHJ4OiAiOCIsIGNsYXNzTmFtZTogZ2V0Tm9kZUNvbG9yKG9iai50eXBlKSwgc3Ryb2tlV2lkdGg6ICIyIiB9KSwgX2pzeCgidGV4dCIsIHsgeDogbm9kZVdpZHRoIC8gMiwgeTogbm9kZUhlaWdodCAvIDIgLSA4LCB0ZXh0QW5jaG9yOiAibWlkZGxlIiwgZmlsbDogIiNlMmU4ZjAiLCBmb250U2l6ZTogIjE0IiwgZm9udFdlaWdodDogImJvbGQiLCBjaGlsZHJlbjogb2JqLm5hbWUgfSksIF9qc3goInRleHQiLCB7IHg6IG5vZGVXaWR0aCAvIDIsIHk6IG5vZGVIZWlnaHQgLyAyICsgMTIsIHRleHRBbmNob3I6ICJtaWRkbGUiLCBmaWxsOiAiIzk0YTNiOCIsIGZvbnRTaXplOiAiMTIiLCBjaGlsZHJlbjogb2JqLnR5cGUgfSldIH0sIG9iai5uYW1lKSk7CiAgICAgICAgICAgICAgICB9KV0gfSkgfSkpOwp9Owpjb25zdCBBZ2VudFN0ZXBSZW5kZXJlciA9ICh7IHN0ZXAsIHB5b2RpZGVTdGF0dXMgfSkgPT4gewogICAgY29uc3QgW2lzRXhlY3V0aW5nLCBzZXRJc0V4ZWN1dGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgICBjb25zdCBbZXhlY091dHB1dCwgc2V0RXhlY091dHB1dF0gPSB1c2VTdGF0ZShudWxsKTsKICAgIGNvbnN0IFtpc0luc3BlY3RpbmcsIHNldElzSW5zcGVjdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgICBjb25zdCBbaW5zcGVjdGlvbk91dHB1dCwgc2V0SW5zcGVjdGlvbk91dHB1dF0gPSB1c2VTdGF0ZShudWxsKTsKICAgIGNvbnN0IFtjb21wb3NpdGlvbkRhdGEsIHNldENvbXBvc2l0aW9uRGF0YV0gPSB1c2VTdGF0ZShudWxsKTsKICAgIGNvbnN0IFtzaG93Q2hhcnQsIHNldFNob3dDaGFydF0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgICBjb25zdCBoYW5kbGVSdW5TY3JpcHQgPSBhc3luYyAoKSA9PiB7CiAgICAgICAgaWYgKCFzdGVwLnRvb2xfaW5wdXQgfHwgcHlvZGlkZVN0YXR1cyAhPT0gJ3JlYWR5JykKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIHNldElzRXhlY3V0aW5nKHRydWUpOwogICAgICAgIHNldEV4ZWNPdXRwdXQobnVsbCk7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnVuUHl0aG9uKHN0ZXAudG9vbF9pbnB1dCk7CiAgICAgICAgc2V0RXhlY091dHB1dChyZXN1bHQpOwogICAgICAgIHNldElzRXhlY3V0aW5nKGZhbHNlKTsKICAgIH07CiAgICBjb25zdCBoYW5kbGVJbnNwZWN0ID0gYXN5bmMgKCkgPT4gewogICAgICAgIGlmICghc3RlcC50b29sX2lucHV0KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgc2V0SXNJbnNwZWN0aW5nKHRydWUpOwogICAgICAgIHNldEluc3BlY3Rpb25PdXRwdXQobnVsbCk7CiAgICAgICAgc2V0Q29tcG9zaXRpb25EYXRhKG51bGwpOwogICAgICAgIHNldFNob3dDaGFydChmYWxzZSk7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUR3c2ltQ29tbWFuZChzdGVwLnRvb2xfaW5wdXQpOwogICAgICAgIHNldEluc3BlY3Rpb25PdXRwdXQocmVzdWx0KTsKICAgICAgICBzZXRJc0luc3BlY3RpbmcoZmFsc2UpOwogICAgfTsKICAgIGNvbnN0IGlzUHl0aG9uVG9vbCA9IHN0ZXAudG9vbCA9PT0gJ1B5dGhvbic7CiAgICBjb25zdCBpc0R3c2ltVG9vbCA9IHN0ZXAudG9vbCA9PT0gJ0RXU0lNJzsKICAgIGNvbnN0IGlzRHdzaW1FcnJvciA9IGluc3BlY3Rpb25PdXRwdXQ/LnN0YXJ0c1dpdGgoJ0Vycm9yOicpOwogICAgdXNlRWZmZWN0KCgpID0+IHsKICAgICAgICBpZiAoaW5zcGVjdGlvbk91dHB1dCAmJiBpc0R3c2ltVG9vbCAmJiAhaXNEd3NpbUVycm9yKSB7CiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gaW5zcGVjdGlvbk91dHB1dC5zcGxpdCgnXG4nKTsKICAgICAgICAgICAgY29uc3QgY29tcG9uZW50RnJhY3Rpb25zID0gW107CiAgICAgICAgICAgIC8vIFJlZ2V4IHRvIGZpbmQgbGluZXMgd2l0aCBjb21wb25lbnQgbmFtZXMgYW5kIHRoZWlyIGZyYWN0aW9uYWwgdmFsdWVzIChlLmcuLCAiLSBFdGhhbm9sIDogMC40IikKICAgICAgICAgICAgY29uc3QgZnJhY3Rpb25SZWdleCA9IC8tXHMqKFtBLVphLXpcc10rPylccyo6XHMqKFxkXC5cZCspXHMqJC87CiAgICAgICAgICAgIGxpbmVzLmZvckVhY2gobGluZSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGxpbmUubWF0Y2goZnJhY3Rpb25SZWdleCk7CiAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gbWF0Y2hbMV0udHJpbSgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VGbG9hdChtYXRjaFsyXSk7CiAgICAgICAgICAgICAgICAgICAgLy8gQSBzaW1wbGUgaGV1cmlzdGljOiBpZiB0aGUgdmFsdWUgaXMgYmV0d2VlbiAwIGFuZCAxLCBpdCdzIGxpa2VseSBhIGNvbXBvbmVudCBmcmFjdGlvbi4KICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudEZyYWN0aW9ucy5wdXNoKHsgbmFtZSwgdmFsdWUgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKGNvbXBvbmVudEZyYWN0aW9ucy5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICBzZXRDb21wb3NpdGlvbkRhdGEoY29tcG9uZW50RnJhY3Rpb25zKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHNldENvbXBvc2l0aW9uRGF0YShudWxsKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgc2V0Q29tcG9zaXRpb25EYXRhKG51bGwpOwogICAgICAgIH0KICAgIH0sIFtpbnNwZWN0aW9uT3V0cHV0LCBpc0R3c2ltVG9vbCwgaXNEd3NpbUVycm9yXSk7CiAgICBjb25zdCBkd3NpbUNvbW1hbmQgPSBzdGVwLnRvb2xfaW5wdXQ/LnRyaW0oKS5zcGxpdCgvXHMrLylbMF07CiAgICBjb25zdCBpc0NhbGN1bGF0ZUNvbW1hbmQgPSBkd3NpbUNvbW1hbmQgPT09ICdjYWxjdWxhdGUnOwogICAgY29uc3QgZHdzaW1CdXR0b25UZXh0ID0gaXNDYWxjdWxhdGVDb21tYW5kID8gJ0NhbGN1bGF0ZScgOiAnSW5zcGVjdCc7CiAgICBjb25zdCBkd3NpbUJ1dHRvbkljb24gPSBpc0NhbGN1bGF0ZUNvbW1hbmQgPyBfanN4KFBsYXlJY29uLCB7IGNsYXNzTmFtZTogInctNCBoLTQiIH0pIDogX2pzeChTZWFyY2hJY29uLCB7IGNsYXNzTmFtZTogInctNCBoLTQiIH0pOwogICAgY29uc3QgZHdzaW1Mb2FkaW5nVGV4dCA9IGlzQ2FsY3VsYXRlQ29tbWFuZCA/ICdDYWxjdWxhdGluZy4uLicgOiAnSW5zcGVjdGluZy4uLic7CiAgICByZXR1cm4gKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiYmctc2xhdGUtODAwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS03MDAgb3ZlcmZsb3ctaGlkZGVuIHNoYWRvdy1tZCIsIGNoaWxkcmVuOiBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJwLTQgc3BhY2UteS0zIiwgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4iLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIiwgY2hpbGRyZW46IFtnZXRUb29sSWNvbihzdGVwLnRvb2wpLCBfanN4cygiaDQiLCB7IGNsYXNzTmFtZTogImZvbnQtc2VtaWJvbGQgdGV4dC1sZyB0ZXh0LXNsYXRlLTIwMCIsIGNoaWxkcmVuOiBbIlVzaW5nIFRvb2w6ICIsIHN0ZXAudG9vbF0gfSldIH0pLCBpc1B5dGhvblRvb2wgJiYgKF9qc3hzKCJidXR0b24iLCB7IG9uQ2xpY2s6IGhhbmRsZVJ1blNjcmlwdCwgZGlzYWJsZWQ6IGlzRXhlY3V0aW5nIHx8IHB5b2RpZGVTdGF0dXMgIT09ICdyZWFkeScsIGNsYXNzTmFtZTogImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTMgcHktMS41IHRleHQtc20gYmctZ3JlZW4tNjAwLzUwIHRleHQtZ3JlZW4tMjAwIHJvdW5kZWQtbWQgaG92ZXI6YmctZ3JlZW4tNjAwLzgwIGRpc2FibGVkOmJnLXNsYXRlLTYwMCBkaXNhYmxlZDp0ZXh0LXNsYXRlLTQwMCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdHJhbnNpdGlvbi1jb2xvcnMiLCB0aXRsZTogcHlvZGlkZVN0YXR1cyAhPT0gJ3JlYWR5JyA/IGBQeXRob24gc2FuZGJveCBpcyAke3B5b2RpZGVTdGF0dXN9Li4uYCA6ICdFeGVjdXRlIHNjcmlwdCcsIGNoaWxkcmVuOiBbaXNFeGVjdXRpbmcgPyBfanN4KEFnZW50SWNvbiwgeyBjbGFzc05hbWU6ICJ3LTQgaC00IGFuaW1hdGUtc3BpbiIgfSkgOiBfanN4KFBsYXlJY29uLCB7IGNsYXNzTmFtZTogInctNCBoLTQiIH0pLCBpc0V4ZWN1dGluZyA/ICdFeGVjdXRpbmcuLi4nIDogJ1J1biBTY3JpcHQnXSB9KSksIGlzRHdzaW1Ub29sICYmIChfanN4cygiYnV0dG9uIiwgeyBvbkNsaWNrOiBoYW5kbGVJbnNwZWN0LCBkaXNhYmxlZDogaXNJbnNwZWN0aW5nLCBjbGFzc05hbWU6ICJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC0zIHB5LTEuNSB0ZXh0LXNtIGJnLWJsdWUtNjAwLzUwIHRleHQtYmx1ZS0yMDAgcm91bmRlZC1tZCBob3ZlcjpiZy1ibHVlLTYwMC84MCBkaXNhYmxlZDpiZy1zbGF0ZS02MDAgZGlzYWJsZWQ6dGV4dC1zbGF0ZS00MDAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRyYW5zaXRpb24tY29sb3JzIiwgdGl0bGU6IGlzQ2FsY3VsYXRlQ29tbWFuZCA/ICJSdW4gc2ltdWxhdGlvbiBjYWxjdWxhdGlvbiIgOiAiSW5zcGVjdCBzaW11bGF0aW9uIHN0YXRlIiwgY2hpbGRyZW46IFtpc0luc3BlY3RpbmcgPyBfanN4KEFnZW50SWNvbiwgeyBjbGFzc05hbWU6ICJ3LTQgaC00IGFuaW1hdGUtc3BpbiIgfSkgOiBkd3NpbUJ1dHRvbkljb24sIGlzSW5zcGVjdGluZyA/IGR3c2ltTG9hZGluZ1RleHQgOiBkd3NpbUJ1dHRvblRleHRdIH0pKV0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAicGwtOCBib3JkZXItbC0yIGJvcmRlci1zbGF0ZS02MDAgbWwtMi41IiwgY2hpbGRyZW46IF9qc3hzKCJwIiwgeyBjbGFzc05hbWU6ICJpdGFsaWMgdGV4dC1zbGF0ZS00MDAiLCBjaGlsZHJlbjogWyJcIiIsIHN0ZXAudGhvdWdodCwgIlwiIl0gfSkgfSksIGlzUHl0aG9uVG9vbCAmJiBzdGVwLnRvb2xfaW5wdXQgJiYgKF9qc3goUHl0aG9uVG9vbCwgeyBzY3JpcHQ6IHN0ZXAudG9vbF9pbnB1dCwgb3V0cHV0OiBleGVjT3V0cHV0LCBpc0V4ZWN1dGluZzogaXNFeGVjdXRpbmcgfSkpLCBpc0R3c2ltVG9vbCAmJiBzdGVwLnRvb2xfaW5wdXQgJiYgKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogIm10LTIiLCBjaGlsZHJlbjogW19qc3goImg1IiwgeyBjbGFzc05hbWU6ICJmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNDAwIG1iLTEgdGV4dC1zbSIsIGNoaWxkcmVuOiAiQ29tbWFuZDoiIH0pLCBfanN4KCJwcmUiLCB7IGNsYXNzTmFtZTogImJnLWJsYWNrLzUwIHAtMyByb3VuZGVkLW1kIHRleHQtc20gdGV4dC1ncmVlbi0zMDAgb3ZlcmZsb3cteC1hdXRvIGZvbnQtbW9ubyIsIGNoaWxkcmVuOiBfanN4KCJjb2RlIiwgeyBjaGlsZHJlbjogc3RlcC50b29sX2lucHV0IH0pIH0pXSB9KSksIGlzRHdzaW1Ub29sICYmIGluc3BlY3Rpb25PdXRwdXQgJiYgKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogIm10LTIiLCBjaGlsZHJlbjogW19qc3hzKCJoNSIsIHsgY2xhc3NOYW1lOiAiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTQwMCBtYi0xIHRleHQtc20iLCBjaGlsZHJlbjogW2lzRHdzaW1FcnJvciAmJiBfanN4KEVycm9ySWNvbiwgeyBjbGFzc05hbWU6ICJ3LTQgaC00IHRleHQtcmVkLTQwMCIgfSksICJJbnNwZWN0aW9uIFJlc3VsdDoiXSB9KSwgX2pzeCgicHJlIiwgeyBjbGFzc05hbWU6IGBwLTMgcm91bmRlZC1tZCB0ZXh0LXNtIHdoaXRlc3BhY2UtcHJlLXdyYXAgZm9udC1tb25vICR7aXNEd3NpbUVycm9yID8gJ2JnLXJlZC05MDAvMzAgdGV4dC1yZWQtMjAwJyA6ICdiZy1ibHVlLTkwMC8zMCB0ZXh0LWJsdWUtMjAwJ31gLCBjaGlsZHJlbjogX2pzeCgiY29kZSIsIHsgY2hpbGRyZW46IGluc3BlY3Rpb25PdXRwdXQgfSkgfSksIGNvbXBvc2l0aW9uRGF0YSAmJiAoX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAibXQtMyIsIGNoaWxkcmVuOiBbX2pzeHMoImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gc2V0U2hvd0NoYXJ0KCFzaG93Q2hhcnQpLCBjbGFzc05hbWU6ICJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC0zIHB5LTEuNSB0ZXh0LXNtIGJnLXNreS02MDAvNTAgdGV4dC1za3ktMjAwIHJvdW5kZWQtbWQgaG92ZXI6Ymctc2t5LTYwMC84MCB0cmFuc2l0aW9uLWNvbG9ycyIsIGNoaWxkcmVuOiBbX2pzeChDaGFydEJhckljb24sIHsgY2xhc3NOYW1lOiAidy00IGgtNCIgfSksIHNob3dDaGFydCA/ICdIaWRlIFZpc3VhbGl6YXRpb24nIDogJ1Zpc3VhbGl6ZSBDb21wb3NpdGlvbiddIH0pLCBzaG93Q2hhcnQgJiYgX2pzeChDb21wb3NpdGlvbkNoYXJ0LCB7IGRhdGE6IGNvbXBvc2l0aW9uRGF0YSB9KV0gfSkpXSB9KSksIHN0ZXAudG9vbCA9PT0gJ1Zpc3VhbGl6YXRpb24nICYmIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJtdC0yIiwgY2hpbGRyZW46IFtfanN4KCJoNSIsIHsgY2xhc3NOYW1lOiAiZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTQwMCBtYi0xIHRleHQtc20iLCBjaGlsZHJlbjogIkZsb3dzaGVldCBEaWFncmFtOiIgfSksIHN0ZXAudG9vbF9vdXRwdXQgJiYgX2pzeCgicCIsIHsgY2xhc3NOYW1lOiAidGV4dC1zbGF0ZS0zMDAgdGV4dC1zbSBtYi0yIiwgY2hpbGRyZW46IHN0ZXAudG9vbF9vdXRwdXQgfSksIF9qc3goRmxvd3NoZWV0RGlhZ3JhbSwgeyBzaW11bGF0aW9uU3RhdGU6IG1vY2tTaW11bGF0aW9uU3RhdGUgfSldIH0pKSwgc3RlcC50b29sID09PSAnRGF0YUFuYWx5c2lzJyAmJiBzdGVwLnRvb2xfb3V0cHV0ICYmIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJtdC0yIiwgY2hpbGRyZW46IFtfanN4KCJoNSIsIHsgY2xhc3NOYW1lOiAiZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTQwMCBtYi0xIHRleHQtc20iLCBjaGlsZHJlbjogIkFuYWx5c2lzIFN1bW1hcnk6IiB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJiZy1wdXJwbGUtOTAwLzMwIHAtMyByb3VuZGVkLW1kIHRleHQtc20gdGV4dC1wdXJwbGUtMjAwIHdoaXRlc3BhY2UtcHJlLXdyYXAiLCBjaGlsZHJlbjogc3RlcC50b29sX291dHB1dCB9KV0gfSkpLCBzdGVwLnRvb2wgPT09ICdGaW5hbEFuc3dlcicgJiYgc3RlcC50b29sX291dHB1dCAmJiAoX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAibXQtMiIsIGNoaWxkcmVuOiBbX2pzeCgiaDUiLCB7IGNsYXNzTmFtZTogImZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS00MDAgbWItMSB0ZXh0LXNtIiwgY2hpbGRyZW46ICJGaW5hbCBBbnN3ZXI6IiB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJiZy1lbWVyYWxkLTkwMC80MCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtNTAwLzUwIHAtMyByb3VuZGVkLW1kIHRleHQtc20gdGV4dC1lbWVyYWxkLTIwMCB3aGl0ZXNwYWNlLXByZS13cmFwIiwgY2hpbGRyZW46IHN0ZXAudG9vbF9vdXRwdXQgfSldIH0pKV0gfSkgfSkpOwp9Owpjb25zdCBMb2FkaW5nSW5kaWNhdG9yID0gKCkgPT4gKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggaXRlbXMtc3RhcnQgZ2FwLTQgbWF4LXctNHhsIiwgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXgtc2hyaW5rLTAgdy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS03MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYm9yZGVyLTIgYm9yZGVyLWN5YW4tNTAwLzUwIiwgY2hpbGRyZW46IF9qc3goQWdlbnRJY29uLCB7IGNsYXNzTmFtZTogInRleHQtY3lhbi00MDAgYW5pbWF0ZS1zcGluIiB9KSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJiZy1zbGF0ZS04MDAgcm91bmRlZC14bCByb3VuZGVkLXRsLW5vbmUgcC00IHNoYWRvdy1tZCIsIGNoaWxkcmVuOiBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIiLCBjaGlsZHJlbjogW19qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAidy0yIGgtMiBiZy1zbGF0ZS01MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtcHVsc2UiIH0pLCBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogInctMiBoLTIgYmctc2xhdGUtNTAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLXB1bHNlIiwgc3R5bGU6IHsgYW5pbWF0aW9uRGVsYXk6ICcyMDBtcycgfSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ3LTIgaC0yIGJnLXNsYXRlLTUwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1wdWxzZSIsIHN0eWxlOiB7IGFuaW1hdGlvbkRlbGF5OiAnNDAwbXMnIH0gfSldIH0pIH0pXSB9KSk7CmV4cG9ydCBkZWZhdWx0IEFwcDsK","@/services/pyodide":"data:application/javascript;base64,Ly8gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIFB5b2RpZGUgaW5zdGFuY2UuCi8vIFRoaXMgZW5zdXJlcyBQeW9kaWRlIGlzIGxvYWRlZCBvbmx5IG9uY2UuCmxldCBweW9kaWRlUHJvbWlzZSA9IG51bGw7CmNvbnN0IEVYRUNVVElPTl9USU1FT1VUID0gNTAwMDsgLy8gNSBzZWNvbmRzCi8qKgogKiBBIHByZWx1ZGUgc2NyaXB0IHRvIHNldCB1cCBhIHNlY3VyZSwgbW9ja2VkIGVudmlyb25tZW50IGZvciBQeXRob24gZXhlY3V0aW9uLgogKiBUaGlzIHNjcmlwdCBpcyBydW4gYmVmb3JlIGFueSBhZ2VudC1nZW5lcmF0ZWQgY29kZS4KICovCmNvbnN0IFBZVEhPTl9TQU5EQk9YX1BSRUxVREUgPSBgCmltcG9ydCBzeXMKZnJvbSB0eXBlcyBpbXBvcnQgTW9kdWxlVHlwZQppbXBvcnQgbG9nZ2luZwppbXBvcnQgaW8KCiMgLS0tIFNlY3VyaXR5IEhhcmRlbmluZyAtLS0KIyAxLiBEaXNhYmxlIG5ldHdvcmtpbmcgYW5kIGZpbGVzeXN0ZW0gYWNjZXNzCmNsYXNzIFJlc3RyaWN0ZWRNb2R1bGU6CiAgICBkZWYgX19nZXRhdHRyX18oc2VsZiwgbmFtZSk6CiAgICAgICAgcmFpc2UgSW1wb3J0RXJyb3IoZiJNb2R1bGUgJ3tzZWxmLl9fbmFtZV9ffScgaXMgZGlzYWJsZWQgaW4gdGhpcyBzYW5kYm94LiIpCgpzeXMubW9kdWxlc1snc29ja2V0J10gPSBSZXN0cmljdGVkTW9kdWxlKCkKc3lzLm1vZHVsZXNbJ3VybGxpYiddID0gUmVzdHJpY3RlZE1vZHVsZSgpCnN5cy5tb2R1bGVzWyd1cmxsaWIucmVxdWVzdCddID0gUmVzdHJpY3RlZE1vZHVsZSgpCnN5cy5tb2R1bGVzWydvcyddID0gUmVzdHJpY3RlZE1vZHVsZSgpCnN5cy5tb2R1bGVzWydzaHV0aWwnXSA9IFJlc3RyaWN0ZWRNb2R1bGUoKQpzeXMubW9kdWxlc1snc3VicHJvY2VzcyddID0gUmVzdHJpY3RlZE1vZHVsZSgpCgojIDIuIFByZXZlbnQgbG9hZGluZyBuZXcgcGFja2FnZXMKaWYgJ21pY3JvcGlwJyBpbiBzeXMubW9kdWxlczoKICAgIGRlbCBzeXMubW9kdWxlc1snbWljcm9waXAnXQoKIyAzLiBEaXNhYmxlIEphdmFTY3JpcHQgaW50ZXJvcAppZiAnanMnIGluIHN5cy5tb2R1bGVzOgogICAgZGVsIHN5cy5tb2R1bGVzWydqcyddCgpwcmludCgiLS0tIFNlY3VyZSBTYW5kYm94IEluaXRpYWxpemVkIC0tLSIpCnByaW50KCJOZXR3b3JraW5nLCBmaWxlIHN5c3RlbSwgYW5kIHBhY2thZ2UgaW5zdGFsbGF0aW9uIGFyZSBkaXNhYmxlZC4iKQoKIyAtLS0gTG9nZ2luZyBTeXN0ZW0gLS0tCmxvZ19jYXB0dXJlX3N0cmluZyA9IGlvLlN0cmluZ0lPKCkKcm9vdF9sb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcigpCnJvb3RfbG9nZ2VyLnNldExldmVsKGxvZ2dpbmcuSU5GTykgIyBEZWZhdWx0IGxldmVsCmZvcm1hdHRlciA9IGxvZ2dpbmcuRm9ybWF0dGVyKCclKGFzY3RpbWUpcyAtICUobmFtZSlzIC0gJShsZXZlbG5hbWUpcyAtICUobWVzc2FnZSlzJykKc3RyaW5nX2hhbmRsZXIgPSBsb2dnaW5nLlN0cmVhbUhhbmRsZXIobG9nX2NhcHR1cmVfc3RyaW5nKQpzdHJpbmdfaGFuZGxlci5zZXRGb3JtYXR0ZXIoZm9ybWF0dGVyKQpyb290X2xvZ2dlci5hZGRIYW5kbGVyKHN0cmluZ19oYW5kbGVyKQoKZGVmIGNvbmZpZ3VyZV9sb2dnaW5nKGxldmVsPSdJTkZPJywgZGVzdGluYXRpb249J2NhcHR1cmUnKToKICAgICIiIgogICAgQ29uZmlndXJlcyB0aGUgbG9nZ2luZyBsZXZlbCBhbmQgZGVzdGluYXRpb24gZm9yIHRoZSByb290IGxvZ2dlci4KICAgIC0gbGV2ZWw6ICdERUJVRycsICdJTkZPJywgJ1dBUk5JTkcnLCAnRVJST1InLCAnQ1JJVElDQUwnCiAgICAtIGRlc3RpbmF0aW9uOiAnY2FwdHVyZScgKGRlZmF1bHQsIHRvIHN0cmluZyksICdjb25zb2xlJyAodG8gc3Rkb3V0KQogICAgIiIiCiAgICBsb2dfbGV2ZWwgPSBnZXRhdHRyKGxvZ2dpbmcsIGxldmVsLnVwcGVyKCksIGxvZ2dpbmcuSU5GTykKICAgIHJvb3RfbG9nZ2VyLnNldExldmVsKGxvZ19sZXZlbCkKICAgIAogICAgIyBDbGVhciBleGlzdGluZyBoYW5kbGVycyB0byBwcmV2ZW50IGR1cGxpY2F0ZSBtZXNzYWdlcwogICAgZm9yIGhhbmRsZXIgaW4gcm9vdF9sb2dnZXIuaGFuZGxlcnNbOl06CiAgICAgICAgcm9vdF9sb2dnZXIucmVtb3ZlSGFuZGxlcihoYW5kbGVyKQogICAgICAgIAogICAgaWYgZGVzdGluYXRpb24gPT0gJ2NhcHR1cmUnOgogICAgICAgIHJvb3RfbG9nZ2VyLmFkZEhhbmRsZXIoc3RyaW5nX2hhbmRsZXIpCiAgICAgICAgcHJpbnQoZiJbTG9nZ2luZ10gTG9nIGxldmVsIHNldCB0byB7bGV2ZWwudXBwZXIoKX0sIGRlc3RpbmF0aW9uOiBjYXB0dXJlLiIpCiAgICBlbHNlOgogICAgICAgIGNvbnNvbGVfaGFuZGxlciA9IGxvZ2dpbmcuU3RyZWFtSGFuZGxlcihzeXMuc3Rkb3V0KQogICAgICAgIGNvbnNvbGVfaGFuZGxlci5zZXRGb3JtYXR0ZXIoZm9ybWF0dGVyKQogICAgICAgIHJvb3RfbG9nZ2VyLmFkZEhhbmRsZXIoY29uc29sZV9oYW5kbGVyKQogICAgICAgIHByaW50KGYiW0xvZ2dpbmddIExvZyBsZXZlbCBzZXQgdG8ge2xldmVsLnVwcGVyKCl9LCBkZXN0aW5hdGlvbjogY29uc29sZS4iKQoKIyBNYWtlIGxvZ2dpbmcgYW5kIHRoZSBjb25maWcgZnVuY3Rpb24gYXZhaWxhYmxlIGdsb2JhbGx5Cmdsb2JhbHMoKVsnbG9nZ2luZyddID0gbG9nZ2luZwpnbG9iYWxzKClbJ2NvbmZpZ3VyZV9sb2dnaW5nJ10gPSBjb25maWd1cmVfbG9nZ2luZwoKcHJpbnQoIi0tLSBMb2dnaW5nIFN5c3RlbSBJbml0aWFsaXplZCAtLS0iKQoKIyAtLS0gTW9jayBEV1NJTSBFbnZpcm9ubWVudCAtLS0KY2xhc3MgTW9ja09iamVjdDoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBuYW1lPSIiKToKICAgICAgICBzZWxmLl9uYW1lID0gbmFtZQogICAgICAgIHNlbGYuX3Byb3BzID0ge30KICAgICAgICBsb2dnaW5nLmRlYnVnKGYiW0RXU0lNIE1PQ0tdIENyZWF0ZWQgbW9jayBvYmplY3Q6IHtuYW1lIGlmIG5hbWUgZWxzZSAndW5uYW1lZCd9IikKCiAgICBkZWYgU2V0T3ZlcmFsbENvbXBvdW5kRnJhY3Rpb24oc2VsZiwgY29tcG91bmQsIHZhbHVlKToKICAgICAgICBsb2dnaW5nLmluZm8oZiJbRFdTSU0gTU9DS10gU2V0dGluZyB7Y29tcG91bmR9IGZyYWN0aW9uIHRvIHt2YWx1ZX0gaW4gJ3tzZWxmLl9uYW1lfSciKQogICAgICAgIHNlbGYuX3Byb3BzW2NvbXBvdW5kXSA9IHZhbHVlCgogICAgZGVmIEdldE92ZXJhbGxDb21wb3VuZEZyYWN0aW9uKHNlbGYsIGNvbXBvdW5kKToKICAgICAgICB2YWwgPSBzZWxmLl9wcm9wcy5nZXQoY29tcG91bmQsIDAuNSkKICAgICAgICBsb2dnaW5nLmluZm8oZiJbRFdTSU0gTU9DS10gR2V0dGluZyB7Y29tcG91bmR9IGZyYWN0aW9uIGZyb20gJ3tzZWxmLl9uYW1lfScuIFJldHVybmluZyBkZWZhdWx0OiB7dmFsfSIpCiAgICAgICAgcmV0dXJuIHZhbAoKICAgIGRlZiBTZXQoc2VsZiwgcHJvcF9uYW1lLCB2YWx1ZSk6CiAgICAgICAgbG9nZ2luZy5pbmZvKGYiW0RXU0lNIE1PQ0tdIFNldHRpbmcgcHJvcGVydHkgJ3twcm9wX25hbWV9JyB0byAne3ZhbHVlfScgaW4gJ3tzZWxmLl9uYW1lfSciKQogICAgICAgIHNlbGYuX3Byb3BzW3Byb3BfbmFtZV0gPSB2YWx1ZQoKICAgIGRlZiBHZXRQcm9wZXJ0eShzZWxmLCBwcm9wX25hbWUpOgogICAgICAgIHZhbCA9IHNlbGYuX3Byb3BzLmdldChwcm9wX25hbWUsICJtb2NrX3ZhbHVlIikKICAgICAgICBsb2dnaW5nLmluZm8oZiJbRFdTSU0gTU9DS10gR2V0dGluZyBwcm9wZXJ0eSAne3Byb3BfbmFtZX0nIGZyb20gJ3tzZWxmLl9uYW1lfScuIFJldHVybmluZyBkZWZhdWx0OiAne3ZhbH0nIikKICAgICAgICByZXR1cm4gdmFsCgpjbGFzcyBNb2NrRmxvd3NoZWV0OgogICAgZGVmIEdldE9iamVjdChzZWxmLCBuYW1lKToKICAgICAgICBsb2dnaW5nLmluZm8oZiJbRFdTSU0gTU9DS10gQWNjZXNzaW5nIG9iamVjdCAne25hbWV9JyBmcm9tIGZsb3dzaGVldC4iKQogICAgICAgIHJldHVybiBNb2NrT2JqZWN0KG5hbWUpCiAgICAKICAgIGRlZiBTZXRUaGVybW9keW5hbWljUGFja2FnZShzZWxmLCBuYW1lKToKICAgICAgICBsb2dnaW5nLmluZm8oZiJbRFdTSU0gTU9DS10gU2V0dGluZyB0aGVybW9keW5hbWljIHBhY2thZ2UgdG86IHtuYW1lfSIpCgogICAgZGVmIENvbm5lY3Qoc2VsZiwgc291cmNlLCB0YXJnZXQpOgogICAgICAgIGxvZ2dpbmcuaW5mbyhmIltEV1NJTSBNT0NLXSBDb25uZWN0aW5nICd7c291cmNlfScgdG8gJ3t0YXJnZXR9JyIpCgogICAgZGVmIENhbGN1bGF0ZShzZWxmLCBfPU5vbmUpOgogICAgICAgIGxvZ2dpbmcuaW5mbygiW0RXU0lNIE1PQ0tdIENhbGN1bGF0aW5nIGZsb3dzaGVldC4uLiIpCiAgICAgICAgbG9nZ2luZy5pbmZvKCJbRFdTSU0gTU9DS10gQ2FsY3VsYXRpb24gY29tcGxldGUuIikKCiAgICBkZWYgR2V0Q2FsY3VsYXRpb25TdGF0dXMoc2VsZik6CiAgICAgICAgbG9nZ2luZy5pbmZvKCJbRFdTSU0gTU9DS10gQ2hlY2tpbmcgY2FsY3VsYXRpb24gc3RhdHVzLiBSZXR1cm5pbmcgJ1NvbHZlZCcuIikKICAgICAgICByZXR1cm4gIlNvbHZlZCIKCiMgQ29ycmVjdGx5IG1vY2sgdGhlIERXU0lNIHBhY2thZ2Ugc3RydWN0dXJlIHRvIHN1cHBvcnQgaW1wb3J0cyBsaWtlICdmcm9tIERXU0lNLkF1dG9tYXRpb24gaW1wb3J0IC4uLicKIyAxLiBEZWZpbmUgdGhlIEF1dG9tYXRpb24gaW50ZXJmYWNlIGNsYXNzCmNsYXNzIE1vY2tBdXRvbWF0aW9uOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIGxvZ2dpbmcuZGVidWcoIltEV1NJTSBNT0NLXSBBdXRvbWF0aW9uIGludGVyZmFjZSBjcmVhdGVkLiIpCiAgICAKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBHZXRGbG93c2hlZXQocGF0aD1Ob25lKToKICAgICAgICBwYXRoX2luZm8gPSBmImZyb20gcGF0aDoge3BhdGh9IiBpZiBwYXRoIGVsc2UgIihubyBwYXRoIHNwZWNpZmllZCwgY3JlYXRpbmcgbmV3KSIKICAgICAgICBsb2dnaW5nLmluZm8oZiJbRFdTSU0gTU9DS10gR2V0dGluZyBmbG93c2hlZXQge3BhdGhfaW5mb30iKQogICAgICAgIHJldHVybiBNb2NrRmxvd3NoZWV0KCkKCiMgMi4gQ3JlYXRlIGEgbW9jayBmb3IgdGhlIERXU0lNLkF1dG9tYXRpb24gc3VibW9kdWxlIGFuZCBhZGQgdGhlIGNsYXNzIHRvIGl0CmF1dG9tYXRpb25fbW9kdWxlID0gTW9kdWxlVHlwZSgnRFdTSU0uQXV0b21hdGlvbicpCmF1dG9tYXRpb25fbW9kdWxlLkF1dG9tYXRpb24gPSBNb2NrQXV0b21hdGlvbiAgIyBBc3NpZ24gdGhlIENMQVNTLCBub3QgYW4gaW5zdGFuY2UKc3lzLm1vZHVsZXNbJ0RXU0lNLkF1dG9tYXRpb24nXSA9IGF1dG9tYXRpb25fbW9kdWxlCgojIDMuIENyZWF0ZSB0aGUgdG9wLWxldmVsIERXU0lNIHBhY2thZ2UKZHdzaW1fcGFja2FnZSA9IE1vZHVsZVR5cGUoJ0RXU0lNJykKZHdzaW1fcGFja2FnZS5BdXRvbWF0aW9uID0gYXV0b21hdGlvbl9tb2R1bGUgIyBBdHRhY2ggdGhlIG1vZHVsZSB0byB0aGUgcGFja2FnZQojIFNldCBfX3BhdGhfXyB0byBpbmRpY2F0ZSBpdCBpcyBhIHBhY2thZ2UsIGFsbG93aW5nIHN1Ym1vZHVsZSBpbXBvcnRzCmR3c2ltX3BhY2thZ2UuX19wYXRoX18gPSBbXQpzeXMubW9kdWxlc1snRFdTSU0nXSA9IGR3c2ltX3BhY2thZ2UKCiMgNC4gRm9yIGNvbnZlbmllbmNlLCBtYWtlIERXU0lNIGF2YWlsYWJsZSBhcyBhIGdsb2JhbCB2YXJpYWJsZQpEV1NJTSA9IGR3c2ltX3BhY2thZ2UKcHJpbnQoIi0tLSBEV1NJTSBNb2NrIEluaXRpYWxpemVkIC0tLSIpCgojIC0tLSBQcmUtaW5pdGlhbGl6ZSBhIGRlZmF1bHQgc2ltdWxhdGlvbiBlbnZpcm9ubWVudCAtLS0KIyBUaGlzIG1ha2VzIHRoZSBzYW5kYm94IGVhc2llciBmb3IgdGhlIGFnZW50IHRvIHVzZSwgYXZvaWRpbmcgYm9pbGVycGxhdGUuCnByaW50KCItLS0gSW5pdGlhbGl6aW5nIERlZmF1bHQgU2ltdWxhdGlvbiBFbnZpcm9ubWVudCAtLS0iKQppbnRlcmYgPSBEV1NJTS5BdXRvbWF0aW9uLkF1dG9tYXRpb24oKQpmbG93c2hlZXQgPSBpbnRlcmYuR2V0Rmxvd3NoZWV0KCkKCiMgQ3JlYXRlIGdsb2JhbCB2YXJpYWJsZXMgZm9yIGFsbCBvYmplY3RzIGluIHRoZSBtb2NrIHNpbXVsYXRpb24gc3RhdGUKIyBUaGlzIGFsbG93cyB0aGUgYWdlbnQgdG8gZGlyZWN0bHkgdXNlIG5hbWVzIGxpa2UgJ2Rpc3RpbGxhdGlvbl9jb2x1bW4nCm1vY2tfb2JqZWN0X25hbWVzID0gWwogICdyYXdfZmVlZCcsICdmZWVkX3B1bXAnLCAncHJlc3N1cml6ZWRfZmVlZCcsICdmZWVkX3ByZWhlYXRlcicsCiAgJ3ByZWhlYXRlZF9mZWVkJywgJ2ZlZWRfaGVhdGVyJywgJ2hlYXRlZF9mZWVkJywgJ2Rpc3RpbGxhdGlvbl9jb2x1bW4nLAogICdkaXN0aWxsYXRlJywgJ2JvdHRvbXMnLCAnY29vbGVkX2JvdHRvbXMnLCAnZGlzdGlsbGF0ZV9jb21wcmVzc29yJywKICAnY29tcHJlc3NlZF9kaXN0aWxsYXRlJywgJ2NzdHJfcmVhY3RvcicsICdyZWFjdG9yX3Byb2R1Y3QnCl0KCmZvciBvYmpfbmFtZSBpbiBtb2NrX29iamVjdF9uYW1lczoKICAgICMgVXNlIGdsb2JhbHMoKSB0byBjcmVhdGUgYSBnbG9iYWwgdmFyaWFibGUgd2l0aCB0aGUgb2JqZWN0J3MgbmFtZQogICAgZ2xvYmFscygpW29ial9uYW1lXSA9IGZsb3dzaGVldC5HZXRPYmplY3Qob2JqX25hbWUpCiAgICBsb2dnaW5nLmRlYnVnKGYiQ3JlYXRlZCBnbG9iYWwgdmFyaWFibGUgZm9yIERXU0lNIG9iamVjdDogJ3tvYmpfbmFtZX0nIikKCnByaW50KCItLS0gRW52aXJvbm1lbnQgUmVhZHkgLS0tIikKYDsKLyoqCiAqIExvYWRzIHRoZSBQeW9kaWRlIGluc3RhbmNlLgogKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgUHlvZGlkZSBpbnRlcmZhY2UuCiAqLwpleHBvcnQgZnVuY3Rpb24gZ2V0UHlvZGlkZSgpIHsKICAgIGlmICghcHlvZGlkZVByb21pc2UpIHsKICAgICAgICBweW9kaWRlUHJvbWlzZSA9IHdpbmRvdy5sb2FkUHlvZGlkZSh7CiAgICAgICAgICAgIGluZGV4VVJMOiAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L3B5b2RpZGUvdjAuMjUuMS9mdWxsLycsCiAgICAgICAgfSkudGhlbihweW9kaWRlID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coIlB5b2RpZGUgbG9hZGVkIHN1Y2Nlc3NmdWxseS4iKTsKICAgICAgICAgICAgLy8gUnVuIHRoZSBzZWN1cml0eSBwcmVsdWRlIG9uY2Ugb24gbG9hZC4KICAgICAgICAgICAgcHlvZGlkZS5ydW5QeXRob24oUFlUSE9OX1NBTkRCT1hfUFJFTFVERSk7CiAgICAgICAgICAgIHJldHVybiBweW9kaWRlOwogICAgICAgIH0pOwogICAgfQogICAgcmV0dXJuIHB5b2RpZGVQcm9taXNlOwp9Ci8qKgogKiBSdW5zIGEgUHl0aG9uIHNjcmlwdCBpbiB0aGUgc2VjdXJlZCBQeW9kaWRlIGVudmlyb25tZW50IHdpdGggYSB0aW1lb3V0LgogKiBJdCBjYXB0dXJlcyBhbmQgcmV0dXJucyBzdGRvdXQsIHN0ZGVyciwgYW5kIGxvZ3MuCiAqIEBwYXJhbSBjb2RlIFRoZSBQeXRob24gY29kZSB0byBleGVjdXRlLgogKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgc2NyaXB0J3Mgb3V0cHV0IHN0cmluZy4KICovCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5QeXRob24oY29kZSkgewogICAgY29uc3QgcHlvZGlkZSA9IGF3YWl0IGdldFB5b2RpZGUoKTsKICAgIHRyeSB7CiAgICAgICAgbGV0IHN0ZG91dCA9ICcnOwogICAgICAgIGxldCBzdGRlcnIgPSAnJzsKICAgICAgICAvLyBSZWRpcmVjdCBzdGRvdXQgYW5kIHN0ZGVyciB0byBjYXB0dXJlIG91dHB1dAogICAgICAgIHB5b2RpZGUuc2V0U3Rkb3V0KHsgYmF0Y2hlZDogKHN0cikgPT4geyBzdGRvdXQgKz0gc3RyICsgJ1xuJzsgfSB9KTsKICAgICAgICBweW9kaWRlLnNldFN0ZGVycih7IGJhdGNoZWQ6IChzdHIpID0+IHsgc3RkZXJyICs9IHN0ciArICdcbic7IH0gfSk7CiAgICAgICAgLy8gUmFjZSB0aGUgcHl0aG9uIGV4ZWN1dGlvbiBhZ2FpbnN0IGEgdGltZW91dAogICAgICAgIGNvbnN0IGV4ZWN1dGlvblByb21pc2UgPSBweW9kaWRlLnJ1blB5dGhvbkFzeW5jKGNvZGUpOwogICAgICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4gc2V0VGltZW91dCgoKSA9PiByZWplY3QobmV3IEVycm9yKGBFeGVjdXRpb24gdGltZWQgb3V0IGFmdGVyICR7RVhFQ1VUSU9OX1RJTUVPVVQgLyAxMDAwfSBzZWNvbmRzLmApKSwgRVhFQ1VUSU9OX1RJTUVPVVQpKTsKICAgICAgICBhd2FpdCBQcm9taXNlLnJhY2UoW2V4ZWN1dGlvblByb21pc2UsIHRpbWVvdXRQcm9taXNlXSk7CiAgICAgICAgLy8gQWZ0ZXIgZXhlY3V0aW9uLCBnZXQgdGhlIGNhcHR1cmVkIGxvZ3MgYW5kIGNsZWFyIHRoZSBidWZmZXIKICAgICAgICBjb25zdCBjYXB0dXJlZExvZ3MgPSBweW9kaWRlLmdsb2JhbHMuZ2V0KCdsb2dfY2FwdHVyZV9zdHJpbmcnKS5nZXR2YWx1ZSgpOwogICAgICAgIHB5b2RpZGUucnVuUHl0aG9uKCdsb2dfY2FwdHVyZV9zdHJpbmcudHJ1bmNhdGUoMCk7IGxvZ19jYXB0dXJlX3N0cmluZy5zZWVrKDApJyk7CiAgICAgICAgLy8gQ29tYmluZSBzdGRvdXQsIHN0ZGVyciwgYW5kIGxvZ3MgZm9yIHRoZSBmaW5hbCBvdXRwdXQKICAgICAgICBsZXQgZmluYWxPdXRwdXQgPSAoc3Rkb3V0ICsgc3RkZXJyKS50cmltKCk7CiAgICAgICAgaWYgKGNhcHR1cmVkTG9ncykgewogICAgICAgICAgICBmaW5hbE91dHB1dCArPSBgXG5cbi0tLSBDYXB0dXJlZCBMb2dzIC0tLVxuJHtjYXB0dXJlZExvZ3MudHJpbSgpfWA7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmaW5hbE91dHB1dC50cmltKCk7CiAgICB9CiAgICBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIHJ1bm5pbmcgUHl0aG9uIGNvZGU6IiwgZSk7CiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogU3RyaW5nKGUpOwogICAgICAgIHJldHVybiBgRXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWA7CiAgICB9CiAgICBmaW5hbGx5IHsKICAgICAgICAvLyBSZXNldCBzdHJlYW1zIGFmdGVyIGV4ZWN1dGlvbiB0byBhdm9pZCBtZW1vcnkgbGVha3MKICAgICAgICBweW9kaWRlLnNldFN0ZG91dCh7IGJhdGNoZWQ6ICgpID0+IHsgfSB9KTsKICAgICAgICBweW9kaWRlLnNldFN0ZGVycih7IGJhdGNoZWQ6ICgpID0+IHsgfSB9KTsKICAgIH0KfQo="}}</script>
        <script>
          window.APPLET_FILES = ["index.tsx","metadata.json","index.html","types.ts","components/icons.tsx","services/geminiService.ts","App.tsx","services/pyodide.ts","tests/test_python_sandbox.py"];
          </script>
        <script type="module">
        (() => {
  if (window.self === window.top) {
    // Do not run the shim in the main window, only in iframes.
    return;
  }

  window.API_KEY = 'GEMINI_API_KEY';
  window.GEMINI_API_KEY = 'GEMINI_API_KEY';
  window.process = window.process || {};
  window.process.env = window.process.env || {};
  window.process.env.API_KEY = window.API_KEY;
  window.process.env.GEMINI_API_KEY = window.GEMINI_API_KEY;

  const bootstrapChannel = new Promise((resolve) => {
    window.addEventListener('message', (event) => {
      if (event.origin !== 'https://aistudio.google.com') {
        return;
      }

      if (event.data.type === 'bootstrap') {
        resolve({
          port: event.ports[0],
          urlPatterns:
              event.data.urlPatterns.map((pattern) => new RegExp(pattern)),
        });
      }
    });
  });

  window.aistudio = window.aistudio || {
    getHostUrl: async function() {
      const hostPort = (await bootstrapChannel).port;
      return new Promise((resolve) => {
        const channel = new MessageChannel();
        hostPort.postMessage(
            {type: 'get_host_url'},
            [channel.port2]);
        const port = channel.port1;
        port.onmessage = (message) => {
          resolve(message.data.url);
        };
      });
    },
    hasSelectedApiKey: async function() {
      const hostPort = (await bootstrapChannel).port;
      return new Promise((resolve) => {
        const channel = new MessageChannel();
        hostPort.postMessage(
            {type: 'has_selected_api_key'},
            [channel.port2]);
        const port = channel.port1;
        port.onmessage = (message) => {
          resolve(message.data);
        };
      });
    },
    openSelectKey: async function() {
      const hostPort = (await bootstrapChannel).port;
      const channel = new MessageChannel();
      hostPort.postMessage(
          {type: 'open_select_key'},
          [channel.port2]);
    },
    getModelQuota: async function(model) {
      const hostPort = (await bootstrapChannel).port;
      return new Promise((resolve) => {
        const channel = new MessageChannel();
        hostPort.postMessage(
            {type: 'get_model_quota', model},
            [channel.port2]);
        const port = channel.port1;
        port.onmessage = (message) => {
          resolve(message.data.modelQuota);
        };
      });
    },
  };

  const nativeFetch = window.fetch;

  /**
   * @param {string | URL | Request} resource The resource of the fetch request.
   * @param {RequestInit} options The options of the fetch request.
   * @return {Promise!} The promise of the fetch request.
   */
  async function fetch(resource, options) {
    const config = await bootstrapChannel;

    const request = resource instanceof Request ?
      resource.clone() :
      new Request(resource, options);

    if (!config.urlPatterns.some((pattern) => request.url.match(pattern))) {
      return nativeFetch(resource, options);
    }
    const hostPort = config.port;

    const channel = new MessageChannel();
    const port = channel.port1;
    let bodyBytes;
    const transfer = [channel.port2];
    const parts = [];
    const buffer = await request.arrayBuffer();
    if (buffer.byteLength) {
      bodyBytes = buffer;
      transfer.push(bodyBytes);
    }
    hostPort.postMessage(
        {
          type: 'fetch',
          url: request.url,
          method: request.method,
          headers: [...request.headers.entries()],
          body: bodyBytes,
        },
        transfer);

    let streamController;
    const body = new ReadableStream({
      start(controller) {
        streamController = controller;
      },
    });
    let resolveReceive;
    const receivePromise = new Promise((resolve) => {
      resolveReceive = resolve;
    });
    port.onmessage = (message) => {
      switch (message.data.type) {
        case 'response':
          resolveReceive(new Response(body, {
            status: message.data.status,
            statusText: message.data.statusText,
            headers: new Headers(message.data.headers),
          }));
          break;
        case 'body':
          streamController.enqueue(message.data.data);
          break;
        case 'body_done':
          streamController.close();
          break;
      }
    };
    return receivePromise;
  }

  Object.defineProperty(window, 'fetch', {
    get: function() {
      return fetch;
    },
  });

  // See details in: https://github.com/angular/angular/issues/63064.
  function patchHistoryStateFunctionForAngular(originalFn, baseHref) {
    return (state, unused, url) => {
      if (typeof url === 'string' && !url.startsWith('blob:')) {
        url = baseHref + url;
      }
      return originalFn.apply(window.history, [state, unused, url]);
    };
  }

  if (false) {
    const baseHref = window.location.href;
    window.history.replaceState = patchHistoryStateFunctionForAngular(window.history.replaceState, baseHref);
    window.history.pushState = patchHistoryStateFunctionForAngular(window.history.pushState, baseHref);
  }

  const originalWebSocket = window.WebSocket;
  class ProxiedWebSocket extends EventTarget {
    /**
     * @param {string} url The url of the websocket.
     * @param {Object!} protocols The protocols of the websocket.
     */
    constructor(url, protocols) {
      super();
      this.url = url;
      this.protocols = protocols;

      this.open();
    }

    /** Opens the websocket. */
    async open() {
      const hostPort = (await bootstrapChannel).port;
      const channel = new MessageChannel();
      hostPort.postMessage(
          {type: 'websocket_open', url: this.url, protocols: this.protocols},
          [channel.port2]);
      this.port = channel.port1;
      this.port.onmessage = (message) => {
        if (message.data.type === 'close') {
          const event = new CloseEvent('close', {
            code: message.data.code,
            reason: message.data.reason,
            wasClean: message.data.wasClean,
          });
          if (this.onclose) {
            this.onclose(event);
          }
          this.dispatchEvent(event);
          return;
        } else if (message.data.type === 'open') {
          const event = new Event('open');
          if (this.onopen) {
            this.onopen(event);
          }
          this.dispatchEvent(event);
          return;
        } else if (message.data.type === 'message') {
          let data = message.data.data;
          if (message.data.messageType === 'text' || message.data.messageType === 'message') {
            data = new TextDecoder().decode(data);
          }
          const event = new MessageEvent('message', {
            data,
            type: message.data.messageType,
          });
          if (this.onmessage) {
            this.onmessage(event);
          }
          this.dispatchEvent(event);
          return;
        } else if (message.data.type === 'error') {
          const event = new ErrorEvent('error', {
            message: message.data.message,
          });
          if (this.onerror) {
            this.onerror(event);
          }
          this.dispatchEvent(event);
          return;
        }
        console.error('received unknown message in frame', event.data);
      };
    }
    /**
     * @param {string|ArrayBuffer!} data The data to send.
     */
    send(data) {
      if (typeof data === 'string') {
        this.port.postMessage({type: 'send', data});
      } else {
        this.port.postMessage({type: 'send', data}, [data.buffer]);
      }
    }

    /**
     * @param {number} code The code of the close event.
     * @param {string} reason The reason of the close event.
     */
    close(code, reason) {
      this.port.postMessage({type: 'close', code, reason});
    }
  }

  /**
   * @param {string} url The url of the websocket.
   * @param {Object!} protocols The protocols of the websocket.
   * @return {WebSocket!} The websocket.
   */
  function createWebSocket(url, protocols) {
    // This should come from the bootstrap channel, but we want this to
    // work for the synchronous constructor here.
    if (url.startsWith('wss://generativelanguage.googleapis.com/')) {
      return Reflect.construct(ProxiedWebSocket, [url, protocols]);
    }
    return Reflect.construct(originalWebSocket, [url, protocols]);
  }

  Object.defineProperty(window, 'WebSocket', {
    get: function() {
      return createWebSocket;
    },
  });

  async function instrumentErrorReporting() {
    const errors = [];
    let hostPort;

    function reportError(message) {
      if (!hostPort) {
        errors.push(message);
      } else {
        hostPort.postMessage({type: 'error', message: message}, message);
      }
    }

    function serialize(args) {
      return args.map((a) => {
        if (a instanceof Error || a instanceof ErrorEvent) {
          return a.message;
        }
        if(a instanceof CloseEvent) {
          return {code: a.code, reason: a.reason, wasClean: a.wasClean};
        }
        if( a instanceof Map) {
          return JSON.parse(JSON.stringify([...a.entries()]));
        }
        if( a instanceof Set) {
          return JSON.parse(JSON.stringify([...a.values()]));
        }
        if (a instanceof Object) {
          return JSON.parse(JSON.stringify(a));
        }
        return a;
      });
    }

    const originalConsole = window.console;
    const originalConsoleLog = window.console.log;
    const originalConsoleError = window.console.error;
    const originalConsoleWarn = window.console.warn;
    const originalConsoleDebug = window.console.debug;
    window.console = {
      ...originalConsole,
      log: (message, ...args) => {
        originalConsoleLog.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_log', message: combined });
      },
      debug: (message, ...args) => {
        originalConsoleDebug.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_debug', message: combined });
      },
      error: (message, ...args) => {
        originalConsoleError.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_error', message: combined });
      },
      warn: (message, ...args) => {
        originalConsoleWarn.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_warn', message: combined });
      },
    };

    window.onerror = (message, source, lineno, colno, error) => {
      reportError({type: 'error', message: serialize([message]), source, lineno, colno, error});
    };

    window.onunhandledrejection = (event) => {
      reportError({type: 'unhandledrejection', message: serialize([event.reason])});
    };

    window.alert = (message) => {
      reportError({type: 'alert', message: serialize([message]) });
    };

    hostPort = (await bootstrapChannel).port;
    for(const error of errors) {
      hostPort.postMessage({type: 'error', message: error});
    }
  }

  const availableFiles = new Set(window.APPLET_FILES || []);

  instrumentErrorReporting();

  if (false) {
    const notifyLocationChange = async () => {
      const hostPort = (await bootstrapChannel).port;
      hostPort.postMessage({type: 'locationchange', href: location.href});
    };

    // Send initial state on load.
    notifyLocationChange();

    const originalPushState = history.pushState;
    history.pushState = (...args) => {
      originalPushState.apply(history, args);
      notifyLocationChange();
    };

    const originalReplaceState = history.replaceState;
    history.replaceState = (...args) => {
      originalReplaceState.apply(history, args);
      notifyLocationChange();
    };
    window.addEventListener('popstate', (e) => {
      notifyLocationChange();
    });
  }

  window.addEventListener('hashchange', async (e) =>{
    const config = await bootstrapChannel;
    const hostPort = config.port;
    hostPort.postMessage({type: 'hashchange', hash: window.location.hash});
    if (false) {
      hostPort.postMessage({
        type: 'locationchange',
        href: location.href,
      });
    }
  });

  if (true) {
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/html2canvas-pro';
    script.onload = () => {
      window.addEventListener('message', async (event) => {
        if (event.data?.type === 'capture-screenshot') {
          try {
            const canvas = await html2canvas(document.documentElement, {
              logging: false,
              useCORS: true,
              backgroundColor: null,
              scale: 1,
            });
            const hostPort = (await bootstrapChannel).port;
            hostPort.postMessage(
              {
                type: 'screenshot-result',
                dataUrl: canvas.toDataURL('image/png'),
                requestId: event.data.requestId,
                scrollX: document.body.scrollLeft,
                scrollY: document.body.scrollTop,
              },
            );
          } catch (e) {
            const hostPort = (await bootstrapChannel).port;
            hostPort.postMessage(
              {
                type: 'screenshot-error',
                error: e.message,
                requestId: event.data.requestId,
              });
          }
        }
      });
    };
    document.head.appendChild(script);
  }

  if (false) {
    function getElementSelector(el) {
      if (!el || el.nodeType !== 1) {
        return '';
      }
      const parts = [];
      while(el && el.nodeType === 1 && el.tagName.toLowerCase() !== 'html') {
        let part = el.tagName.toLowerCase();
        if (el.id) {
          part += '#' + el.id;
        }

        const parent = el.parentElement;
        if (parent) {
          const sameTagSiblings = Array.from(parent.children).filter(
            (sib) => sib.tagName === el.tagName
          );
          if (sameTagSiblings.length > 1) {
            const nth = sameTagSiblings.findIndex((sib) => sib === el) + 1;
            part += ':nth-of-type(' + nth + ')';
          }
        }

        parts.unshift(part);

        if(el.id || el.tagName.toLowerCase() === 'body') {
          break;
        }
        el = el.parentNode;
      }
      return parts.join(' > ');
    }

    const style = document.createElement('style');
    style.textContent =
      '.aistudio-focus-mode-highlight { box-shadow: 0 0 0 2px #1967d2, 0 0 0 4px white !important; }';
    document.head.appendChild(style);

    let highlightedElement = null;

    function highlight(element) {
      if (highlightedElement === element) return;

      if (highlightedElement) {
        highlightedElement.classList.remove('aistudio-focus-mode-highlight');
      }
      highlightedElement = element;
      if (highlightedElement) {
        highlightedElement.classList.add('aistudio-focus-mode-highlight');
      }
    }

    window.addEventListener('message', async (event) => {
      if (event.data?.type === 'highlight-element-at-point') {
        try {
          const element = document.elementFromPoint(
            event.data.x,
            event.data.y,
          );
          highlight(element);
        } catch (e) {
          highlight(null);
        }
      } else if (event.data?.type === 'highlight-element-by-selector') {
        try {
          const selector = event.data.selector;
          if (selector) {
            const element = document.querySelector(selector);
            highlight(element);
          } else {
            highlight(null);
          }
        } catch (e) {
          highlight(null);
        }
      } else if (event.data?.type === 'get-element-at-point') {
        try {
          const element = document.elementFromPoint(
            event.data.x,
            event.data.y,
          );
          const hostPort = (await bootstrapChannel).port;
          if (!element) {
            hostPort.postMessage({
              type: 'element-at-point-error',
              error: 'No element found at point',
              requestId: event.data.requestId,
            });
            return;
          }
          const selector = getElementSelector(element);
          hostPort.postMessage({
            type: 'element-at-point-result',
            element: {
              selector: selector,
              x: event.data.x,
              y: event.data.y,
            },
            requestId: event.data.requestId,
          });
        } catch (e) {
          const hostPort = (await bootstrapChannel).port;
          hostPort.postMessage({
            type: 'element-at-point-error',
            error: e.message,
            requestId: event.data.requestId,
          });
        }
      }
    });
  }
})();
// # sourceURL=iframe_shim.js
        </script>
        <!--<base href="https://ai.studio">--><base href=".">



  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agentic AI for DWSIM</title>
  <script src="https://cdn.tailwindcss.com/"></script>
  <script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>
  <style>
    /* For custom scrollbar styling */
    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #1e293b; /* slate-800 */
    }
    ::-webkit-scrollbar-thumb {
      background: #475569; /* slate-600 */
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #64748b; /* slate-500 */
    }
  </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.bottom-0{bottom:0px}.left-1{left:0.25rem}.top-0{top:0px}.top-1{top:0.25rem}.z-10{z-index:10}.mx-auto{margin-left:auto;margin-right:auto}.mb-3{margin-bottom:0.75rem}.ml-1{margin-left:0.25rem}.ml-3{margin-left:0.75rem}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.ml-2\.5{margin-left:0.625rem}.mt-2{margin-top:0.5rem}.block{display:block}.flex{display:flex}.hidden{display:none}.h-6{height:1.5rem}.h-8{height:2rem}.h-screen{height:100vh}.h-10{height:2.5rem}.h-5{height:1.25rem}.w-14{width:3.5rem}.w-6{width:1.5rem}.w-10{width:2.5rem}.w-5{width:1.25rem}.max-w-4xl{max-width:56rem}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.cursor-pointer{cursor:pointer}.resize-none{resize:none}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-4{gap:1rem}.gap-3{gap:0.75rem}.space-x-2 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.5rem * var(--tw-space-x-reverse));margin-left:calc(0.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-1 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.25rem * var(--tw-space-y-reverse))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.whitespace-pre-wrap{white-space:pre-wrap}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.border{border-width:1px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-l-2{border-left-width:2px}.border-slate-700{--tw-border-opacity:1;border-color:rgb(51 65 85 / var(--tw-border-opacity, 1))}.border-cyan-500\/50{border-color:rgb(6 182 212 / 0.5)}.border-emerald-500\/50{border-color:rgb(16 185 129 / 0.5)}.border-slate-600{--tw-border-opacity:1;border-color:rgb(71 85 105 / var(--tw-border-opacity, 1))}.bg-slate-900{--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity, 1))}.bg-cyan-600{--tw-bg-opacity:1;background-color:rgb(8 145 178 / var(--tw-bg-opacity, 1))}.bg-slate-600{--tw-bg-opacity:1;background-color:rgb(71 85 105 / var(--tw-bg-opacity, 1))}.bg-slate-700{--tw-bg-opacity:1;background-color:rgb(51 65 85 / var(--tw-bg-opacity, 1))}.bg-slate-800\/50{background-color:rgb(30 41 59 / 0.5)}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-emerald-900\/40{background-color:rgb(6 78 59 / 0.4)}.bg-slate-800{--tw-bg-opacity:1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.p-3{padding:0.75rem}.p-4{padding:1rem}.pt-2{padding-top:0.5rem}.pl-8{padding-left:2rem}.text-center{text-align:center}.font-sans{font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"}.text-2xl{font-size:1.5rem;line-height:2rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.italic{font-style:italic}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-cyan-400{--tw-text-opacity:1;color:rgb(34 211 238 / var(--tw-text-opacity, 1))}.text-slate-100{--tw-text-opacity:1;color:rgb(241 245 249 / var(--tw-text-opacity, 1))}.text-slate-300{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-yellow-400{--tw-text-opacity:1;color:rgb(250 204 21 / var(--tw-text-opacity, 1))}.text-emerald-200{--tw-text-opacity:1;color:rgb(167 243 208 / var(--tw-text-opacity, 1))}.text-emerald-400{--tw-text-opacity:1;color:rgb(52 211 153 / var(--tw-text-opacity, 1))}.text-slate-200{--tw-text-opacity:1;color:rgb(226 232 240 / var(--tw-text-opacity, 1))}.text-green-400{--tw-text-opacity:1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-inner{--tw-shadow:inset 0 2px 4px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.backdrop-blur-sm{--tw-backdrop-blur:blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-shadow{transition-property:box-shadow;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.hover\:bg-cyan-500:hover{--tw-bg-opacity:1;background-color:rgb(6 182 212 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-600:hover{--tw-bg-opacity:1;background-color:rgb(71 85 105 / var(--tw-bg-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-cyan-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(6 182 212 / var(--tw-ring-opacity, 1))}.focus\:ring-offset-2:focus{--tw-ring-offset-width:2px}.focus\:ring-offset-slate-900:focus{--tw-ring-offset-color:#0f172a}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:bg-slate-600:disabled{--tw-bg-opacity:1;background-color:rgb(71 85 105 / var(--tw-bg-opacity, 1))}.disabled\:bg-slate-800:disabled{--tw-bg-opacity:1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.disabled\:text-slate-500:disabled{--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.group:hover .group-hover\:bg-slate-500{--tw-bg-opacity:1;background-color:rgb(100 116 139 / var(--tw-bg-opacity, 1))}@media (min-width: 768px){.md\:p-6{padding:1.5rem}}</style><script src="https://cdn.jsdelivr.net/npm/html2canvas-pro"></script></head>
<body class="bg-slate-900 text-white">
  <div id="root"><div class="flex flex-col h-screen bg-slate-900 text-slate-100 font-sans"><header class="p-4 border-b border-slate-700 bg-slate-800/50 backdrop-blur-sm shadow-lg sticky top-0 z-10"><h1 class="text-2xl font-bold text-center text-cyan-400">Agentic AI for DWSIM</h1><p class="text-center text-sm text-slate-400">A Simulated Agentic Workflow with Gemini</p></header><main class="flex-1 overflow-y-auto p-4 md:p-6 space-y-6"><div class="flex items-start gap-4 max-w-4xl"><div class="flex-shrink-0 w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center border-2 border-cyan-500/50"><svg xmlns="http://www.w3.org/2000/svg" class="text-cyan-400" viewBox="0 0 24 24" fill="currentColor"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12-.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path></svg></div><div class="flex-1 space-y-4"><div class="bg-slate-800/50 border border-slate-700 rounded-lg p-4 shadow-inner"><h3 class="font-bold text-slate-300 mb-2">Plan:</h3><ul class="list-disc list-inside space-y-1 text-slate-400"><li>Greet the user and explain my capabilities.</li></ul></div><div class="bg-slate-800 rounded-lg border border-slate-700 overflow-hidden shadow-md"><div class="p-4 space-y-3"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-emerald-400" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" clip-rule="evenodd"></path></svg><h4 class="font-semibold text-lg text-slate-200">Using Tool: FinalAnswer</h4></div></div><div class="pl-8 border-l-2 border-slate-600 ml-2.5"><p class="italic text-slate-400">"I need to introduce myself as an AI agent for chemical process simulation and provide examples of what I can do. I should also mention the new script execution and inspection features."</p></div><div class="mt-2"><h5 class="font-semibold text-slate-400 mb-1 text-sm">Final Answer:</h5><div class="bg-emerald-900/40 border border-emerald-500/50 p-3 rounded-md text-sm text-emerald-200 whitespace-pre-wrap">Hello! I am an AI agent designed to assist with chemical process simulations. You can upload images, run Python scripts, inspect the DWSIM environment, and visualize the flowsheet. 

What can you ask me? 
- 'Simulate the distillation of an ethanol-water mixture.'
- 'Analyze this P&amp;ID diagram and suggest improvements.' (with an image attached)
- 'Show me a diagram of the current simulation.'</div></div></div></div></div></div><div></div></main><footer class="p-4 border-t border-slate-700 bg-slate-800/50 sticky bottom-0"><div class="max-w-4xl mx-auto"><div class="flex justify-center items-center gap-4 mb-3"><label for="thinking-toggle" class="flex items-center cursor-pointer group"><div class="relative"><input id="thinking-toggle" class="sr-only" type="checkbox"><div class="block w-14 h-8 rounded-full transition-colors bg-slate-600 group-hover:bg-slate-500"></div><div class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform "></div></div><div class="ml-3 text-sm"><span class="font-medium text-slate-300">Thinking Mode</span><p class="text-xs text-slate-500">Uses a more powerful model for complex tasks.</p></div></label></div><form class="flex items-center space-x-2"><input accept="image/*" class="hidden" type="file"><button type="button" class="p-3 bg-slate-700 rounded-lg hover:bg-slate-600 disabled:bg-slate-800 disabled:cursor-not-allowed disabled:text-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500" aria-label="Upload image"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6"><path fill-rule="evenodd" d="M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06l4.47-4.47a.75.75 0 011.06 0l3.97 3.97L15.97 12a.75.75 0 011.06 0l3.47 3.47V6H3v10.06zM6.75 9a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z" clip-rule="evenodd"></path></svg></button><textarea placeholder="Ask the agent to perform a simulation..." class="flex-1 p-3 bg-slate-700 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:outline-none resize-none transition-shadow" rows="1"></textarea><button type="submit" disabled="" class="p-3 bg-cyan-600 rounded-lg hover:bg-cyan-500 disabled:bg-slate-600 disabled:cursor-not-allowed transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-slate-900"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6"><path d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"></path></svg></button></form><div class="text-center text-xs text-slate-500 pt-2">Python Sandbox Status:<span class="ml-1 font-semibold text-green-400">Ready</span></div></div></footer></div></div>
  <script type="module" src="https://ai.studio/index.tsx"></script>


        <script type="module" onerror="console.error(&#39;Failed to load the app. Try reloading it.&#39;)">import '@/index';</script>
        </body></html>